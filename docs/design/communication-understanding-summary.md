# AI理解人类沟通 - 快速总结

## 🎯 核心功能

**AI能够理解人类玩家的话，并实时调整出牌策略。**

---

## 💬 人类玩家可以"说话"

### 输入方式

1. **文字输入**：直接在输入框输入
2. **快捷短语**：点击按钮快速发送

### 快捷短语示例

- **"我来"** → 让我来出牌
- **"你来"** → 你来出牌
- **"保留大牌"** → 保留大牌用于关键时刻
- **"我有炸弹"** → 透露信息：我有炸弹
- **"我来拿分"** → 让我来拿这一轮的分

---

## 🤖 AI理解系统

### 理解的意图类型

1. **策略请求** ⭐⭐⭐⭐⭐
   - "我来出" → AI降低出牌倾向
   - "你来出" → AI提高出牌倾向
   - "保留大牌" → AI提高保留大牌权重

2. **信息透露** ⭐⭐⭐⭐⭐
   - "我有炸弹" → AI知道人类有炸弹，调整策略
   - "我没有大牌" → AI知道人类需要帮助，更主动

3. **配合请求** ⭐⭐⭐⭐⭐
   - "我来拿分" → AI让人类拿分
   - "你保护" → AI主动保护分牌

---

## 🔄 实时策略调整

### 调整机制

```
人类说："我来出，你保留大牌"
    ↓
AI理解：策略请求（我来出 + 保留大牌）
    ↓
策略调整：
  • 降低AI出牌倾向 -20%
  • 提高保留大牌权重 +30%
    ↓
立即生效：如果AI正在决策，重新计算
```

### 调整类型

1. **权重调整**：调整评估函数的权重
2. **偏好调整**：调整动作偏好分数
3. **参数调整**：调整MCTS参数

---

## 🚀 实时生效

### MCTS中断重启

```
AI正在计算出牌...
    ↓
人类玩家说话："我来出"
    ↓
立即中断MCTS
    ↓
应用新的策略调整
    ↓
重新开始MCTS计算
    ↓
使用新的策略出牌
```

---

## 📊 示例场景

### 场景1：策略配合

```
人类玩家：输入"我来出，你保留大牌"

AI理解：
- 意图：策略请求
- 动作：人类出牌，AI保留大牌
- 置信度：90%

策略调整：
- AI出牌倾向：-30%
- 保留大牌权重：+40%

结果：
- AI更倾向于要不起
- AI更倾向于保留大牌
```

### 场景2：信息透露

```
人类玩家：输入"我有炸弹，你可以更激进"

AI理解：
- 意图：信息透露 + 策略建议
- 信息：人类有炸弹
- 建议：AI可以更激进

策略调整：
- 激进权重：+30%
- 支援人类：+50%
- 更主动出牌：+40%

结果：
- AI更激进出牌
- AI更主动支援人类
```

### 场景3：配合请求

```
人类玩家：输入"我来拿分，你保护我"

AI理解：
- 意图：配合请求
- 动作：人类拿分，AI保护

策略调整：
- 让人类出牌：+60%
- 保护人类：+50%
- 降低竞争：-40%

结果：
- AI主动要不起，让人类拿分
- AI准备支援和保护人类
```

---

## 🔧 技术实现

### 核心组件

1. **聊天输入组件**：人类玩家输入界面
2. **NLU理解模块**：意图识别 + 信息提取
3. **策略调整管理器**：动态权重调整
4. **实时响应机制**：MCTS中断重启

### 关键代码

```typescript
// 处理人类消息
async function processHumanMessage(message: string) {
  // 1. 理解意图
  const intent = await recognizeIntent(message);
  
  // 2. 提取信息
  const info = extractInfo(message, intent);
  
  // 3. 调整策略
  const adjustments = generateAdjustments(intent, info);
  
  // 4. 实时生效
  applyStrategyAdjustments(aiPlayerId, adjustments);
  
  // 5. 如果AI正在决策，重新计算
  if (isAITurn(aiPlayerId)) {
    interruptAndRestartMCTS(aiPlayerId);
  }
}
```

---

## 📈 预期效果

### 游戏体验提升

- ✅ **真正的团队配合**：人类和AI可以真正沟通
- ✅ **策略灵活性**：根据情况实时调整策略
- ✅ **心理博弈深度**：信息透露和策略配合

### 技术优势

- ✅ **实时响应**：立即生效，不需要等待下一轮
- ✅ **智能理解**：使用LLM + 规则引擎
- ✅ **动态调整**：灵活的策略调整机制

---

## 📚 相关文档

- 完整设计方案：`docs/design/ai-communication-understanding-redesign.md`
- 主设计方案：`docs/design/team-cooperation-mcts-training-redesign.md`

