# å›¢é˜Ÿåˆä½œæ¨¡å¼ä¸‹çš„MCTSç®—æ³•é‡æ„ä¸è®­ç»ƒç³»ç»Ÿè®¾è®¡

## ğŸ“‹ è®¾è®¡æ¦‚è¿°

æœ¬æ–‡æ¡£è®¾è®¡äº†ä¸€ä¸ª**å®Œæ•´çš„ç³»ç»Ÿé‡æ„æ–¹æ¡ˆ**ï¼Œå°†ç°æœ‰çš„MCTSç®—æ³•ä»ä¸ªäººç«äº‰æ¨¡å¼å‡çº§ä¸º**å›¢é˜Ÿåˆä½œæ¨¡å¼**ï¼Œå¹¶å¼•å…¥**ä¸»åŠ¨è¦ä¸èµ·**ç­–ç•¥ã€**LLMæ¨ç†é“¾**å’Œ**æ™ºèƒ½è®­ç»ƒç³»ç»Ÿ**ã€‚

---

## ğŸ¯ æ ¸å¿ƒæŒ‘æˆ˜

### 1. å›¢é˜Ÿåˆä½œç­–ç•¥ vs ä¸ªäººç«äº‰ç­–ç•¥

**ç°çŠ¶**ï¼š
- MCTSç®—æ³•ä¼˜åŒ–çš„æ˜¯**ä¸ªäººå¾—åˆ†æœ€å¤§åŒ–**
- è¯„ä¼°å‡½æ•°åªè€ƒè™‘**å½“å‰ç©å®¶çš„æ”¶ç›Š**

**æ–°éœ€æ±‚**ï¼š
- éœ€è¦ä¼˜åŒ–**å›¢é˜Ÿæ€»åˆ†æœ€å¤§åŒ–**
- éœ€è¦è€ƒè™‘**é˜Ÿå‹é…åˆ**å’Œ**å¯¹æ‰‹å¨èƒ**
- æ”¯æŒ**ä¸»åŠ¨è¦ä¸èµ·**ï¼ˆå³ä½¿èƒ½æ‰“è¿‡ä¹Ÿè¦ä¸èµ·ï¼‰

### 2. ä¸»åŠ¨è¦ä¸èµ·çš„ç­–ç•¥ä»·å€¼

**æ–°æœºåˆ¶**ï¼š
- ç©å®¶å¯ä»¥ä¸»åŠ¨é€‰æ‹©"è¦ä¸èµ·"ï¼Œå³ä½¿æœ‰èƒ½æ‰“è¿‡çš„ç‰Œ
- ç›®çš„æ˜¯**ä¿ç•™å¤§ç‰Œ**ã€**è®©é˜Ÿå‹å‡ºç‰Œ**ã€**å›¢é˜Ÿé…åˆ**

**MCTSæŒ‘æˆ˜**ï¼š
- éœ€è¦åœ¨æœç´¢æ ‘ä¸­åŒ…å«"è¦ä¸èµ·"ä½œä¸ºåˆæ³•åŠ¨ä½œ
- è¯„ä¼°å‡½æ•°éœ€è¦ç†è§£"ä¸»åŠ¨è¦ä¸èµ·"çš„é•¿æœŸä»·å€¼
- æ¨¡æ‹Ÿè¿‡ç¨‹éœ€è¦è€ƒè™‘å›¢é˜Ÿæ”¶ç›Š

### 3. è®­ç»ƒç³»ç»Ÿçš„å¤æ‚æ€§

**ç°çŠ¶**ï¼š
- è®­ç»ƒç³»ç»Ÿåªé’ˆå¯¹**ä¸ªäººç«äº‰æ¨¡å¼**
- åªè¯„ä¼°**ä¸ªäººèƒœç‡**å’Œ**ä¸ªäººå¾—åˆ†**

**æ–°éœ€æ±‚**ï¼š
- éœ€è¦è®­ç»ƒ**å›¢é˜Ÿç­–ç•¥**
- éœ€è¦è¯„ä¼°**å›¢é˜Ÿèƒœç‡**å’Œ**å›¢é˜Ÿå¾—åˆ†**
- éœ€è¦å­¦ä¹ **ä¸»åŠ¨è¦ä¸èµ·**çš„æ—¶æœº

### 4. LLMæ¨ç†é“¾çš„é›†æˆ

**æ–°éœ€æ±‚**ï¼š
- MCTSæä¾›è®¡ç®—ï¼ŒLLMæä¾›è§£é‡Š
- ç”Ÿæˆ**å¤šä¸ªå»ºè®®**ï¼ˆä¸åªæ˜¯æœ€ä¼˜è§£ï¼‰
- è§£é‡Š**ä¸ºä»€ä¹ˆä¸»åŠ¨è¦ä¸èµ·**æ˜¯å¥½çš„ç­–ç•¥

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æ¸¸æˆå±‚ (Game Layer)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  å›¢é˜Ÿç³»ç»Ÿ    â”‚  â”‚  è®¡åˆ†ç³»ç»Ÿ    â”‚  â”‚  è§„åˆ™ç³»ç»Ÿ    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  å†³ç­–å±‚ (Decision Layer)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          MCTSç®—æ³• (å›¢é˜Ÿæ„ŸçŸ¥ç‰ˆæœ¬)                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ å›¢é˜Ÿè¯„ä¼°   â”‚  â”‚ åŠ¨ä½œç”Ÿæˆ   â”‚  â”‚ æ¨¡æ‹Ÿå¼•æ“   â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          LLMæ¨ç†é“¾ (è§£é‡Šå’Œæ¨ç†)                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ å±€åŠ¿åˆ†æ   â”‚  â”‚ æ¨ç†ç”Ÿæˆ   â”‚  â”‚ å»ºè®®ç”Ÿæˆ   â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  è®­ç»ƒå±‚ (Training Layer)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          å›¢é˜Ÿç­–ç•¥è®­ç»ƒç³»ç»Ÿ                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ åœºæ™¯ç”Ÿæˆ   â”‚  â”‚ ç­–ç•¥è¯„ä¼°   â”‚  â”‚ å‚æ•°ä¼˜åŒ–   â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ è¯¦ç»†è®¾è®¡

## ç¬¬ä¸€éƒ¨åˆ†ï¼šMCTSç®—æ³•é‡æ„

### 1.1 æ¸¸æˆçŠ¶æ€æ‰©å±•

#### ç°æœ‰çŠ¶æ€ï¼ˆä¸ªäººæ¨¡å¼ï¼‰

```typescript
interface SimulatedGameState {
  aiHand: Card[];
  opponentHands: Card[][];
  lastPlay: Play | null;
  currentPlayerIndex: number;
  playerCount: number;
  roundScore: number;
  aiScore: number;  // ä¸ªäººåˆ†æ•°
  isTerminal: boolean;
  winner: number | null;
}
```

#### æ–°çŠ¶æ€ï¼ˆå›¢é˜Ÿæ¨¡å¼ï¼‰

```typescript
interface TeamSimulatedGameState extends SimulatedGameState {
  // å›¢é˜Ÿä¿¡æ¯
  teamConfig: TeamConfig;
  teamScores: Map<number, number>;  // teamId -> score
  teamRelationships: Map<number, TeamRelationship>;  // playerId -> relationship
  
  // ä¸»åŠ¨è¦ä¸èµ·ç›¸å…³
  canPass: boolean;  // æ˜¯å¦å¯ä»¥é€‰æ‹©è¦ä¸èµ·
  lastPassPlayerIndex: number | null;  // ä¸Šä¸€ä¸ªè¦ä¸èµ·çš„ç©å®¶
  
  // å›¢é˜Ÿç­–ç•¥ç›¸å…³
  teammateHands: Card[][];  // é˜Ÿå‹æ‰‹ç‰Œï¼ˆéƒ¨åˆ†ä¿¡æ¯ï¼‰
  opponentTeamHands: Card[][];  // å¯¹æ‰‹å›¢é˜Ÿæ‰‹ç‰Œï¼ˆä¼°è®¡ï¼‰
  
  // å†³ç­–ä¸Šä¸‹æ–‡
  roundContext: {
    roundNumber: number;
    roundScore: number;
    expectedTeamBenefit: number;  // é¢„æœŸå›¢é˜Ÿæ”¶ç›Š
    strategicPassOpportunity: boolean;  // æ˜¯å¦æœ‰ä¸»åŠ¨è¦ä¸èµ·çš„æœºä¼š
  };
}
```

### 1.2 åŠ¨ä½œç©ºé—´æ‰©å±•

#### ç°æœ‰åŠ¨ä½œï¼ˆåªæœ‰å‡ºç‰Œï¼‰

```typescript
type Action = Card[];  // å‡ºç‰ŒåŠ¨ä½œ
```

#### æ–°åŠ¨ä½œï¼ˆåŒ…å«ä¸»åŠ¨è¦ä¸èµ·ï¼‰

```typescript
type TeamAction = 
  | { type: 'play', cards: Card[] }  // å‡ºç‰Œ
  | { type: 'pass', strategic: boolean };  // è¦ä¸èµ·ï¼ˆstrategicè¡¨ç¤ºæ˜¯å¦æ˜¯ä¸»åŠ¨çš„ï¼‰

// åŠ¨ä½œç”Ÿæˆå‡½æ•°
function generateTeamActions(
  state: TeamSimulatedGameState
): TeamAction[] {
  const actions: TeamAction[] = [];
  
  // 1. ç”Ÿæˆæ‰€æœ‰å¯å‡ºç‰ŒåŠ¨ä½œ
  const playableCards = findPlayableCards(state.aiHand, state.lastPlay);
  actions.push(...playableCards.map(cards => ({
    type: 'play' as const,
    cards
  })));
  
  // 2. ç”Ÿæˆä¸»åŠ¨è¦ä¸èµ·åŠ¨ä½œï¼ˆå³ä½¿èƒ½æ‰“è¿‡ï¼‰
  if (state.canPass) {
    actions.push({
      type: 'pass' as const,
      strategic: true  // ä¸»åŠ¨è¦ä¸èµ·
    });
  }
  
  return actions;
}
```

### 1.3 è¯„ä¼°å‡½æ•°é‡æ„

#### ç°æœ‰è¯„ä¼°ï¼ˆä¸ªäººå¾—åˆ†ï¼‰

```typescript
function evaluateAction(
  action: Card[],
  state: SimulatedGameState
): number {
  // åªè¯„ä¼°ä¸ªäººæ”¶ç›Š
  const personalScore = calculatePersonalScore(action, state);
  return personalScore;
}
```

#### æ–°è¯„ä¼°ï¼ˆå›¢é˜Ÿå¾—åˆ† + ä¸»åŠ¨è¦ä¸èµ·ä»·å€¼ï¼‰

```typescript
function evaluateTeamAction(
  action: TeamAction,
  state: TeamSimulatedGameState
): number {
  let score = 0;
  
  // 1. å›¢é˜Ÿå¾—åˆ†è¯„ä¼°
  const teamScore = calculateTeamScoreBenefit(action, state);
  score += teamScore * 2.0;  // å›¢é˜Ÿå¾—åˆ†æƒé‡æ›´é«˜
  
  // 2. ä¸»åŠ¨è¦ä¸èµ·çš„è¯„ä¼°
  if (action.type === 'pass' && action.strategic) {
    score += evaluateStrategicPass(state);
  }
  
  // 3. ä¸ªäººå¾—åˆ†è¯„ä¼°ï¼ˆæƒé‡é™ä½ï¼‰
  if (action.type === 'play') {
    const personalScore = calculatePersonalScore(action.cards, state);
    score += personalScore * 0.3;  // ä¸ªäººå¾—åˆ†æƒé‡é™ä½
  }
  
  // 4. å›¢é˜Ÿé…åˆè¯„ä¼°
  score += evaluateTeamCooperation(action, state);
  
  // 5. é•¿æœŸç­–ç•¥è¯„ä¼°
  score += evaluateLongTermStrategy(action, state);
  
  return score;
}

// è¯„ä¼°ä¸»åŠ¨è¦ä¸èµ·çš„ä»·å€¼
function evaluateStrategicPass(
  state: TeamSimulatedGameState
): number {
  let score = 0;
  
  // 1. é˜Ÿå‹èƒ½å¦å‹è¿‡ï¼Ÿ
  const teammateCanBeat = canTeammateBeat(state);
  if (teammateCanBeat) {
    score += 50;  // é˜Ÿå‹èƒ½å‹è¿‡ï¼Œä¸»åŠ¨è¦ä¸èµ·æœ‰ä»·å€¼
  }
  
  // 2. æ˜¯å¦ä¿ç•™äº†å¤§ç‰Œï¼Ÿ
  const hasBigCards = state.aiHand.some(card => {
    const play = canPlayCards([card]);
    return play && play.value >= 12;
  });
  if (hasBigCards) {
    score += 30;  // ä¿ç•™å¤§ç‰Œæœ‰ä»·å€¼
  }
  
  // 3. å½“å‰è½®æ¬¡åˆ†æ•°æ˜¯å¦å€¼å¾—ï¼Ÿ
  if (state.roundScore > 15) {
    score += 20;  // é«˜åˆ†æ•°è½®æ¬¡ï¼Œè®©é˜Ÿå‹æ‹¿åˆ†æœ‰ä»·å€¼
  } else {
    score -= 10;  // ä½åˆ†æ•°è½®æ¬¡ï¼Œä¸å€¼å¾—è®©åˆ†
  }
  
  // 4. é˜Ÿå‹æ‰‹ç‰Œæƒ…å†µ
  const teammateHandCount = getTeammateHandCount(state);
  if (teammateHandCount < state.aiHand.length) {
    score += 25;  // é˜Ÿå‹æ‰‹ç‰Œæ›´å°‘ï¼Œè®©é˜Ÿå‹å‡ºæ›´åˆç†
  }
  
  // 5. æ˜¯å¦ä¼šå¯¼è‡´å¯¹æ‰‹å¾—åˆ†ï¼Ÿ
  if (willOpponentScore(state)) {
    score -= 40;  // å¦‚æœå¯¹æ‰‹ä¼šå¾—åˆ†ï¼Œä¸»åŠ¨è¦ä¸èµ·æœ‰é£é™©
  }
  
  return score;
}

// è¯„ä¼°å›¢é˜Ÿé…åˆ
function evaluateTeamCooperation(
  action: TeamAction,
  state: TeamSimulatedGameState
): number {
  let score = 0;
  
  // 1. æ˜¯å¦å¸®åŠ©é˜Ÿå‹ï¼Ÿ
  if (action.type === 'pass' && action.strategic) {
    if (teammateNeedsHelp(state)) {
      score += 30;
    }
  }
  
  // 2. æ˜¯å¦ä¿æŠ¤äº†é˜Ÿå‹ï¼Ÿ
  if (action.type === 'play' && protectsTeammate(action.cards, state)) {
    score += 20;
  }
  
  // 3. æ˜¯å¦åè°ƒäº†å‡ºç‰ŒèŠ‚å¥ï¼Ÿ
  if (coordinatesWithTeammate(action, state)) {
    score += 15;
  }
  
  return score;
}

// è¯„ä¼°é•¿æœŸç­–ç•¥
function evaluateLongTermStrategy(
  action: TeamAction,
  state: TeamSimulatedGameState
): number {
  let score = 0;
  
  // 1. æ˜¯å¦ä¿ç•™äº†å…³é”®ç‰Œï¼Ÿ
  if (action.type === 'pass' && action.strategic) {
    const preservesKeyCards = checkKeyCardsPreserved(state);
    if (preservesKeyCards) {
      score += 25;
    }
  }
  
  // 2. æ˜¯å¦å½±å“äº†åç»­è½®æ¬¡ï¼Ÿ
  const futureRoundImpact = estimateFutureRoundImpact(action, state);
  score += futureRoundImpact * 0.5;
  
  // 3. æ˜¯å¦å»ºç«‹äº†å›¢é˜Ÿä¼˜åŠ¿ï¼Ÿ
  const teamAdvantage = calculateTeamAdvantage(action, state);
  score += teamAdvantage * 1.5;
  
  return score;
}
```

### 1.4 MCTSèŠ‚ç‚¹æ‰©å±•

#### ç°æœ‰èŠ‚ç‚¹ï¼ˆä¸ªäººæ¨¡å¼ï¼‰

```typescript
interface MCTSNode {
  hand: Card[];
  lastPlay: Play | null;
  playerToMove: 'ai' | 'opponent';
  visits: number;
  wins: number;
  children: MCTSNode[];
  parent: MCTSNode | null;
  action: Card[] | null;
  untriedActions: Card[][];
}
```

#### æ–°èŠ‚ç‚¹ï¼ˆå›¢é˜Ÿæ¨¡å¼ï¼‰

```typescript
interface TeamMCTSNode {
  // çŠ¶æ€ä¿¡æ¯
  state: TeamSimulatedGameState;
  playerToMove: number;  // å½“å‰ç©å®¶IDï¼ˆæ”¯æŒå¤šäººï¼‰
  
  // MCTSç»Ÿè®¡
  visits: number;
  teamWins: number;  // å›¢é˜Ÿè·èƒœæ¬¡æ•°ï¼ˆè€Œä¸æ˜¯ä¸ªäººè·èƒœï¼‰
  teamScoreSum: number;  // ç´¯è®¡å›¢é˜Ÿå¾—åˆ†
  
  // å­æ ‘
  children: TeamMCTSNode[];
  parent: TeamMCTSNode | null;
  
  // åŠ¨ä½œ
  action: TeamAction | null;
  untriedActions: TeamAction[];
  
  // è¯„ä¼°æŒ‡æ ‡
  evaluation: {
    expectedTeamScore: number;  // é¢„æœŸå›¢é˜Ÿå¾—åˆ†
    strategicPassValue: number;  // ä¸»åŠ¨è¦ä¸èµ·çš„ä»·å€¼
    teamCooperationScore: number;  // å›¢é˜Ÿé…åˆå¾—åˆ†
    confidence: number;  // ç½®ä¿¡åº¦
  };
}
```

### 1.5 UCTå…¬å¼ä¿®æ”¹

#### ç°æœ‰UCTï¼ˆä¸ªäººæ¨¡å¼ï¼‰

```typescript
function uctValue(node: MCTSNode, c: number): number {
  if (node.visits === 0) return Infinity;
  
  const exploitation = node.wins / node.visits;  // ä¸ªäººèƒœç‡
  const exploration = c * Math.sqrt(
    Math.log(node.parent?.visits || 1) / node.visits
  );
  
  return exploitation + exploration;
}
```

#### æ–°UCTï¼ˆå›¢é˜Ÿæ¨¡å¼ï¼‰

```typescript
function teamUCTValue(node: TeamMCTSNode, c: number): number {
  if (node.visits === 0) return Infinity;
  
  // åˆ©ç”¨ï¼šå›¢é˜Ÿå¹³å‡å¾—åˆ†ï¼ˆè€Œä¸æ˜¯èƒœç‡ï¼‰
  const teamScoreAvg = node.teamScoreSum / node.visits;
  const normalizedScore = normalizeTeamScore(teamScoreAvg);  // å½’ä¸€åŒ–åˆ°[0,1]
  
  // æ¢ç´¢ï¼šæ ‡å‡†UCTæ¢ç´¢é¡¹
  const exploration = c * Math.sqrt(
    Math.log(node.parent?.visits || 1) / node.visits
  );
  
  // é¢å¤–é¡¹ï¼šå›¢é˜Ÿé…åˆåº¦å¥–åŠ±
  const cooperationBonus = node.evaluation.teamCooperationScore * 0.1;
  
  return normalizedScore + exploration + cooperationBonus;
}
```

### 1.6 æ¨¡æ‹Ÿè¿‡ç¨‹é‡æ„

#### ç°æœ‰æ¨¡æ‹Ÿï¼ˆä¸ªäººç«äº‰ï¼‰

```typescript
function simulateGame(
  state: SimulatedGameState,
  maxDepth: number
): number {  // è¿”å›è·èƒœè€…ç´¢å¼•
  while (!state.isTerminal && depth < maxDepth) {
    const playableOptions = findPlayableCards(currentHand, state.lastPlay);
    if (playableOptions.length === 0) {
      // è¦ä¸èµ·ï¼Œä½†è¿™æ˜¯è¢«åŠ¨çš„ï¼ˆæ²¡æœ‰èƒ½æ‰“è¿‡çš„ç‰Œï¼‰
      state.lastPlay = null;
      state.currentPlayerIndex = (state.currentPlayerIndex + 1) % state.playerCount;
      continue;
    }
    
    // éšæœºé€‰æ‹©å‡ºç‰Œ
    const selectedAction = randomSelect(playableOptions);
    updateStateAfterPlay(state, selectedAction);
  }
  
  // è¿”å›è·èƒœè€…ï¼ˆä¸ªäººï¼‰
  return state.winner;
}
```

#### æ–°æ¨¡æ‹Ÿï¼ˆå›¢é˜Ÿåˆä½œ + ä¸»åŠ¨è¦ä¸èµ·ï¼‰

```typescript
function simulateTeamGame(
  state: TeamSimulatedGameState,
  maxDepth: number
): { winningTeam: number; finalTeamScores: Map<number, number> } {
  while (!state.isTerminal && depth < maxDepth) {
    const currentPlayer = getCurrentPlayer(state);
    const currentTeamId = getPlayerTeamId(currentPlayer.id, state.teamConfig);
    
    // ç”Ÿæˆæ‰€æœ‰åŠ¨ä½œï¼ˆåŒ…æ‹¬ä¸»åŠ¨è¦ä¸èµ·ï¼‰
    const actions = generateTeamActions(state);
    
    if (actions.length === 0) {
      // çœŸçš„æ²¡æœ‰èƒ½æ‰“è¿‡çš„ç‰Œ
      state.lastPlay = null;
      state.currentPlayerIndex = getNextPlayer(state);
      continue;
    }
    
    // æ ¹æ®ç­–ç•¥é€‰æ‹©åŠ¨ä½œ
    const selectedAction = selectActionInSimulation(
      actions,
      state,
      currentPlayer,
      currentTeamId
    );
    
    // æ›´æ–°çŠ¶æ€
    if (selectedAction.type === 'play') {
      updateStateAfterPlay(state, selectedAction.cards);
    } else if (selectedAction.type === 'pass') {
      updateStateAfterPass(state, selectedAction.strategic);
    }
    
    // è½¬åˆ°ä¸‹ä¸€ä¸ªç©å®¶
    state.currentPlayerIndex = getNextPlayer(state);
    depth++;
  }
  
  // è¿”å›è·èƒœå›¢é˜Ÿå’Œæœ€ç»ˆå›¢é˜Ÿå¾—åˆ†
  const finalTeamScores = calculateFinalTeamScores(state);
  const winningTeam = determineWinningTeam(finalTeamScores);
  
  return {
    winningTeam,
    finalTeamScores
  };
}

// æ¨¡æ‹Ÿä¸­çš„åŠ¨ä½œé€‰æ‹©ï¼ˆè€ƒè™‘å›¢é˜Ÿç­–ç•¥ï¼‰
function selectActionInSimulation(
  actions: TeamAction[],
  state: TeamSimulatedGameState,
  currentPlayer: Player,
  currentTeamId: number
): TeamAction {
  // å¦‚æœæ˜¯å½“å‰ç©å®¶çš„é˜Ÿå‹ï¼Œä½¿ç”¨å›¢é˜Ÿç­–ç•¥
  if (isTeammate(currentPlayer.id, state.teamConfig)) {
    return selectTeamCooperativeAction(actions, state);
  } else {
    // å¯¹æ‰‹ä½¿ç”¨ç«äº‰ç­–ç•¥
    return selectCompetitiveAction(actions, state);
  }
}

// å›¢é˜Ÿé…åˆåŠ¨ä½œé€‰æ‹©
function selectTeamCooperativeAction(
  actions: TeamAction[],
  state: TeamSimulatedGameState
): TeamAction {
  // è¯„ä¼°æ¯ä¸ªåŠ¨ä½œçš„å›¢é˜Ÿä»·å€¼
  const scoredActions = actions.map(action => ({
    action,
    score: evaluateTeamAction(action, state)
  }));
  
  // æ’åºï¼Œä¼˜å…ˆé€‰æ‹©å›¢é˜Ÿä»·å€¼é«˜çš„
  scoredActions.sort((a, b) => b.score - a.score);
  
  // æ·»åŠ ä¸€äº›éšæœºæ€§ï¼ˆé¿å…è¿‡äºç¡®å®šï¼‰
  const topScore = scoredActions[0].score;
  const goodActions = scoredActions.filter(a => a.score >= topScore - 10);
  
  return goodActions[Math.floor(Math.random() * goodActions.length)].action;
}
```

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šLLMæ¨ç†é“¾é›†æˆ

### 2.1 MCTS + LLM åä½œæµç¨‹

```
æ¸¸æˆçŠ¶æ€
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   1. MCTSè®¡ç®—         â”‚
â”‚   - ç”Ÿæˆå€™é€‰åŠ¨ä½œ      â”‚
â”‚   - è¯„ä¼°å›¢é˜Ÿæ”¶ç›Š      â”‚
â”‚   - è®¡ç®—ç½®ä¿¡åº¦        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   2. LLMæ¨ç†é“¾åˆ†æ    â”‚
â”‚   - åˆ†æå½“å‰å±€åŠ¿      â”‚
â”‚   - è¯„ä¼°æ¯ä¸ªé€‰é¡¹      â”‚
â”‚   - ç”Ÿæˆæ¨ç†è¿‡ç¨‹      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   3. ç”Ÿæˆå¤šä¸ªå»ºè®®     â”‚
â”‚   - æ¨èå»ºè®®          â”‚
â”‚   - å¤‡é€‰å»ºè®®          â”‚
â”‚   - è¯¦ç»†è§£é‡Š          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ¨ç†é“¾Promptè®¾è®¡

```typescript
interface ReasoningChainPrompt {
  gameState: TeamGameState;
  mctsResults: MCTSTeamResult[];
  context: {
    teamMode: boolean;
    currentRoundScore: number;
    teammateHandCount: number;
    opponentTeamHandCount: number;
  };
}

function buildReasoningChainPrompt(
  prompt: ReasoningChainPrompt
): string {
  return `
ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è¿‡ç‚¸ç‰Œæ¸¸æˆç­–ç•¥åˆ†æå¸ˆï¼Œæ“…é•¿å›¢é˜Ÿåˆä½œæ¨¡å¼ã€‚

## å½“å‰æ¸¸æˆçŠ¶æ€

### å›¢é˜Ÿä¿¡æ¯
- ä½ çš„å›¢é˜Ÿï¼š${prompt.gameState.myTeam.name}
- å›¢é˜Ÿåˆ†æ•°ï¼š${prompt.gameState.myTeam.score}åˆ†
- å¯¹æ‰‹å›¢é˜Ÿåˆ†æ•°ï¼š${prompt.gameState.opponentTeam.score}åˆ†

### æ‰‹ç‰Œæƒ…å†µ
- ä½ çš„æ‰‹ç‰Œï¼š${prompt.gameState.myHand.length}å¼ 
- é˜Ÿå‹æ‰‹ç‰Œï¼š${prompt.context.teammateHandCount}å¼ ï¼ˆä¼°è®¡ï¼‰
- å¯¹æ‰‹å›¢é˜Ÿæ‰‹ç‰Œï¼š${prompt.context.opponentTeamHandCount}å¼ ï¼ˆä¼°è®¡ï¼‰

### å½“å‰è½®æ¬¡
- è½®æ¬¡åˆ†æ•°ï¼š${prompt.context.currentRoundScore}åˆ†
- ä¸Šå®¶å‡ºç‰Œï¼š${formatLastPlay(prompt.gameState.lastPlay)}

## MCTSè®¡ç®—å‡ºçš„å€™é€‰åŠ¨ä½œ

${prompt.mctsResults.map((result, index) => `
### é€‰é¡¹${index + 1}ï¼š${formatAction(result.action)}
- **åŠ¨ä½œç±»å‹**ï¼š${result.action.type === 'play' ? 'å‡ºç‰Œ' : 'ä¸»åŠ¨è¦ä¸èµ·'}
- **é¢„æœŸå›¢é˜Ÿæ”¶ç›Š**ï¼š${result.evaluation.expectedTeamScore}åˆ†
- **å›¢é˜Ÿé…åˆå¾—åˆ†**ï¼š${result.evaluation.teamCooperationScore}
- **ç½®ä¿¡åº¦**ï¼š${result.evaluation.confidence}%
- **ä¸»åŠ¨è¦ä¸èµ·ä»·å€¼**ï¼š${result.evaluation.strategicPassValue}
`).join('\n')}

## è¯·ä½¿ç”¨æ¨ç†é“¾åˆ†æï¼š

### Step 1: å½“å‰å±€åŠ¿åˆ†æ
- å½“å‰çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ
- ä¸»è¦ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæ¡åˆ†/ä¿æŠ¤/æ§åˆ¶èŠ‚å¥ï¼‰
- å›¢é˜Ÿé…åˆçš„å…³é”®ç‚¹åœ¨å“ªé‡Œï¼Ÿ

### Step 2: é€‰é¡¹åˆ†æ
${prompt.mctsResults.map((result, index) => `
**é€‰é¡¹${index + 1}**ï¼š
- ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ
- ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ
- å¯¹å›¢é˜Ÿçš„å½±å“æ˜¯ä»€ä¹ˆï¼Ÿ
- æ˜¯å¦åº”è¯¥ä¸»åŠ¨è¦ä¸èµ·ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
`).join('\n')}

### Step 3: å›¢é˜Ÿé…åˆåˆ†æ
- é˜Ÿå‹çš„æƒ…å†µå¦‚ä½•ï¼Ÿ
- æ˜¯å¦éœ€è¦é…åˆé˜Ÿå‹ï¼Ÿ
- å¦‚ä½•æœ€å¤§åŒ–å›¢é˜Ÿæ”¶ç›Šï¼Ÿ

### Step 4: å¯¹æ¯”åˆ†æ
- å“ªä¸ªé€‰é¡¹æœ€ç¬¦åˆå½“å‰ç›®æ ‡ï¼Ÿ
- å“ªä¸ªé€‰é¡¹é£é™©æœ€ä½ï¼Ÿ
- å“ªä¸ªé€‰é¡¹é•¿æœŸæ”¶ç›Šæœ€å¤§ï¼Ÿ
- ä¸»åŠ¨è¦ä¸èµ·æ˜¯å¦å€¼å¾—ï¼Ÿ

### Step 5: å¾—å‡ºç»“è®º
- æ¨èå“ªä¸ªé€‰é¡¹ï¼Ÿ
- ä¸ºä»€ä¹ˆï¼Ÿ
- æœ‰ä»€ä¹ˆé£é™©éœ€è¦æ³¨æ„ï¼Ÿ

è¯·ä»¥æ¸…æ™°çš„æ¨ç†é“¾æ ¼å¼è¾“å‡ºåˆ†æç»“æœï¼Œç‰¹åˆ«å…³æ³¨**ä¸»åŠ¨è¦ä¸èµ·**çš„ç­–ç•¥ä»·å€¼ã€‚
  `;
}
```

### 2.3 æ¨ç†é“¾è¾“å‡ºè§£æ

```typescript
interface ReasoningChain {
  steps: ReasoningStep[];
  recommendation: Recommendation;
  alternatives: Alternative[];
}

interface ReasoningStep {
  stepNumber: number;
  title: string;
  content: string;
  conclusions: string[];
}

interface Recommendation {
  action: TeamAction;
  rating: number;  // 1-5æ˜Ÿ
  reasoning: string;
  pros: string[];
  cons: string[];
  riskLevel: 'low' | 'medium' | 'high';
}

function parseReasoningChain(
  llmOutput: string,
  mctsResults: MCTSTeamResult[]
): ReasoningChain {
  // è§£æLLMè¾“å‡ºï¼Œæå–æ¨ç†æ­¥éª¤å’Œæ¨è
  // å®ç°ç»†èŠ‚...
}
```

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šè®­ç»ƒç³»ç»Ÿé‡æ„

### 3.1 è®­ç»ƒç›®æ ‡é‡æ„

#### ç°æœ‰ç›®æ ‡ï¼ˆä¸ªäººæ¨¡å¼ï¼‰

```typescript
interface TrainingObjective {
  maximizePersonalScore: boolean;
  maximizeWinRate: boolean;
  minimizeAverageTurns: boolean;
}
```

#### æ–°ç›®æ ‡ï¼ˆå›¢é˜Ÿæ¨¡å¼ï¼‰

```typescript
interface TeamTrainingObjective {
  // å›¢é˜Ÿç›®æ ‡
  maximizeTeamScore: boolean;
  maximizeTeamWinRate: boolean;
  
  // ç­–ç•¥ç›®æ ‡
  optimizeStrategicPass: boolean;  // ä¼˜åŒ–ä¸»åŠ¨è¦ä¸èµ·çš„æ—¶æœº
  maximizeTeamCooperation: boolean;  // æœ€å¤§åŒ–å›¢é˜Ÿé…åˆ
  
  // å¹³è¡¡ç›®æ ‡
  balanceRiskAndReward: boolean;
  optimizeLongTermStrategy: boolean;
}
```

### 3.2 è®­ç»ƒåœºæ™¯ç”Ÿæˆ

```typescript
interface TrainingScenario {
  // åœºæ™¯æè¿°
  id: string;
  description: string;
  difficulty: 'easy' | 'medium' | 'hard';
  
  // æ¸¸æˆçŠ¶æ€
  initialState: TeamSimulatedGameState;
  
  // é¢„æœŸç­–ç•¥
  expectedStrategies: {
    optimalAction: TeamAction;
    alternativeActions: TeamAction[];
    strategicPassOpportunity: boolean;
  };
  
  // è¯„ä¼°æŒ‡æ ‡
  evaluationMetrics: {
    teamScoreWeight: number;
    cooperationWeight: number;
    strategicPassWeight: number;
  };
}

// ç”Ÿæˆè®­ç»ƒåœºæ™¯
function generateTrainingScenarios(
  count: number,
  difficulty: 'easy' | 'medium' | 'hard'
): TrainingScenario[] {
  const scenarios: TrainingScenario[] = [];
  
  for (let i = 0; i < count; i++) {
    // 1. ç”Ÿæˆéšæœºæ¸¸æˆçŠ¶æ€
    const initialState = generateRandomTeamGameState();
    
    // 2. è¯†åˆ«ç­–ç•¥æœºä¼š
    const strategicPassOpportunity = detectStrategicPassOpportunity(initialState);
    
    // 3. ç”Ÿæˆé¢„æœŸç­–ç•¥
    const expectedStrategies = generateExpectedStrategies(initialState);
    
    // 4. åˆ›å»ºåœºæ™¯
    scenarios.push({
      id: `scenario_${i}`,
      description: `è®­ç»ƒåœºæ™¯ ${i + 1}`,
      difficulty,
      initialState,
      expectedStrategies,
      evaluationMetrics: {
        teamScoreWeight: 0.4,
        cooperationWeight: 0.3,
        strategicPassWeight: 0.3
      }
    });
  }
  
  return scenarios;
}
```

### 3.3 è®­ç»ƒè¯„ä¼°å‡½æ•°

```typescript
interface TrainingEvaluation {
  scenarioId: string;
  actualAction: TeamAction;
  expectedAction: TeamAction;
  score: number;
  breakdown: {
    teamScoreContribution: number;
    cooperationContribution: number;
    strategicPassContribution: number;
    longTermContribution: number;
  };
}

function evaluateTrainingResult(
  scenario: TrainingScenario,
  actualAction: TeamAction,
  gameResult: TeamGameResult
): TrainingEvaluation {
  // 1. è¯„ä¼°å›¢é˜Ÿå¾—åˆ†è´¡çŒ®
  const teamScoreContribution = evaluateTeamScoreContribution(
    actualAction,
    gameResult
  );
  
  // 2. è¯„ä¼°å›¢é˜Ÿé…åˆè´¡çŒ®
  const cooperationContribution = evaluateCooperationContribution(
    actualAction,
    gameResult
  );
  
  // 3. è¯„ä¼°ä¸»åŠ¨è¦ä¸èµ·çš„è´¡çŒ®
  const strategicPassContribution = evaluateStrategicPassContribution(
    actualAction,
    gameResult
  );
  
  // 4. è¯„ä¼°é•¿æœŸç­–ç•¥è´¡çŒ®
  const longTermContribution = evaluateLongTermContribution(
    actualAction,
    gameResult
  );
  
  // 5. è®¡ç®—æ€»åˆ†
  const score = (
    teamScoreContribution * scenario.evaluationMetrics.teamScoreWeight +
    cooperationContribution * scenario.evaluationMetrics.cooperationWeight +
    strategicPassContribution * scenario.evaluationMetrics.strategicPassWeight +
    longTermContribution * 0.2
  );
  
  return {
    scenarioId: scenario.id,
    actualAction,
    expectedAction: scenario.expectedStrategies.optimalAction,
    score,
    breakdown: {
      teamScoreContribution,
      cooperationContribution,
      strategicPassContribution,
      longTermContribution
    }
  };
}
```

### 3.4 å‚æ•°ä¼˜åŒ–ç®—æ³•

```typescript
interface MCTSTeamConfig {
  // åŸºç¡€å‚æ•°
  iterations: number;
  explorationConstant: number;
  simulationDepth: number;
  
  // å›¢é˜Ÿå‚æ•°
  teamScoreWeight: number;  // å›¢é˜Ÿå¾—åˆ†æƒé‡
  cooperationWeight: number;  // å›¢é˜Ÿé…åˆæƒé‡
  strategicPassWeight: number;  // ä¸»åŠ¨è¦ä¸èµ·æƒé‡
  
  // è¯„ä¼°å‚æ•°
  bigCardPreservationBonus: number;  // ä¿ç•™å¤§ç‰Œå¥–åŠ±
  teammateSupportBonus: number;  // æ”¯æŒé˜Ÿå‹å¥–åŠ±
  longTermStrategyWeight: number;  // é•¿æœŸç­–ç•¥æƒé‡
}

// ä½¿ç”¨é—ä¼ ç®—æ³•ä¼˜åŒ–å‚æ•°
async function optimizeTeamMCTSParameters(
  trainingScenarios: TrainingScenario[],
  initialConfig: MCTSTeamConfig,
  generations: number
): Promise<MCTSTeamConfig> {
  let population: MCTSTeamConfig[] = [initialConfig];
  
  for (let gen = 0; gen < generations; gen++) {
    // 1. è¯„ä¼°å½“å‰ç§ç¾¤
    const fitnessScores = await evaluatePopulation(
      population,
      trainingScenarios
    );
    
    // 2. é€‰æ‹©ä¼˜ç§€çš„é…ç½®
    const selected = selectBestConfigs(population, fitnessScores);
    
    // 3. äº¤å‰å’Œå˜å¼‚
    const newGeneration = evolveConfigs(selected);
    
    population = newGeneration;
  }
  
  // è¿”å›æœ€ä¼˜é…ç½®
  return population[0];
}
```

---

## ç¬¬å››éƒ¨åˆ†ï¼šå®ç°ä¼˜å…ˆçº§

### é˜¶æ®µ1ï¼šæ ¸å¿ƒç®—æ³•é‡æ„ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

**ç›®æ ‡**ï¼šå°†MCTSç®—æ³•ä»ä¸ªäººæ¨¡å¼å‡çº§ä¸ºå›¢é˜Ÿæ¨¡å¼

**ä»»åŠ¡**ï¼š
1. âœ… æ‰©å±•æ¸¸æˆçŠ¶æ€ï¼ˆæ·»åŠ å›¢é˜Ÿä¿¡æ¯ï¼‰
2. âœ… æ‰©å±•åŠ¨ä½œç©ºé—´ï¼ˆæ·»åŠ ä¸»åŠ¨è¦ä¸èµ·ï¼‰
3. âœ… é‡æ„è¯„ä¼°å‡½æ•°ï¼ˆå›¢é˜Ÿå¾—åˆ†è¯„ä¼°ï¼‰
4. âœ… ä¿®æ”¹UCTå…¬å¼ï¼ˆå›¢é˜Ÿæ”¶ç›Šä¼˜åŒ–ï¼‰
5. âœ… é‡æ„æ¨¡æ‹Ÿè¿‡ç¨‹ï¼ˆå›¢é˜Ÿç­–ç•¥æ¨¡æ‹Ÿï¼‰

**é¢„è®¡æ—¶é—´**ï¼š2-3å‘¨

### é˜¶æ®µ2ï¼šè®­ç»ƒç³»ç»Ÿé‡æ„ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

**ç›®æ ‡**ï¼šåˆ›å»ºå›¢é˜Ÿç­–ç•¥è®­ç»ƒç³»ç»Ÿ

**ä»»åŠ¡**ï¼š
1. âœ… è®¾è®¡è®­ç»ƒåœºæ™¯ç”Ÿæˆå™¨
2. âœ… å®ç°å›¢é˜Ÿè¯„ä¼°å‡½æ•°
3. âœ… å®ç°å‚æ•°ä¼˜åŒ–ç®—æ³•
4. âœ… åˆ›å»ºè®­ç»ƒæ•°æ®æ”¶é›†ç³»ç»Ÿ

**é¢„è®¡æ—¶é—´**ï¼š2-3å‘¨

### é˜¶æ®µ3ï¼šLLMæ¨ç†é“¾é›†æˆï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

**ç›®æ ‡**ï¼šé›†æˆLLMæä¾›è§£é‡Šå’Œæ¨ç†

**ä»»åŠ¡**ï¼š
1. âœ… è®¾è®¡æ¨ç†é“¾Prompt
2. âœ… å®ç°LLMè°ƒç”¨æ¥å£
3. âœ… å®ç°æ¨ç†é“¾è§£æ
4. âœ… é›†æˆåˆ°å†³ç­–æµç¨‹

**é¢„è®¡æ—¶é—´**ï¼š2-3å‘¨

### é˜¶æ®µ4ï¼šç³»ç»Ÿä¼˜åŒ–å’Œæµ‹è¯•ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

**ç›®æ ‡**ï¼šä¼˜åŒ–æ€§èƒ½å’Œæµ‹è¯•ç³»ç»Ÿ

**ä»»åŠ¡**ï¼š
1. âœ… æ€§èƒ½ä¼˜åŒ–ï¼ˆå¹¶è¡Œè®¡ç®—ã€ç¼“å­˜ï¼‰
2. âœ… å•å…ƒæµ‹è¯•
3. âœ… é›†æˆæµ‹è¯•
4. âœ… è®­ç»ƒæ•°æ®éªŒè¯

**é¢„è®¡æ—¶é—´**ï¼š1-2å‘¨

---

## ç¬¬äº”éƒ¨åˆ†ï¼šå…³é”®æŠ€æœ¯æŒ‘æˆ˜

### æŒ‘æˆ˜1ï¼šä¸»åŠ¨è¦ä¸èµ·çš„æ—¶æœºåˆ¤æ–­

**é—®é¢˜**ï¼šå¦‚ä½•åˆ¤æ–­ä½•æ—¶åº”è¯¥ä¸»åŠ¨è¦ä¸èµ·ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **è§„åˆ™å¼•æ“**ï¼šå®šä¹‰æ˜ç¡®çš„è§„åˆ™ï¼ˆé˜Ÿå‹èƒ½å‹è¿‡ã€ä¿ç•™å¤§ç‰Œã€é«˜åˆ†æ•°è½®æ¬¡ç­‰ï¼‰
2. **MCTSæ¢ç´¢**ï¼šè®©MCTSåœ¨æœç´¢æ ‘ä¸­æ¢ç´¢ä¸»åŠ¨è¦ä¸èµ·çš„ä»·å€¼
3. **è®­ç»ƒå­¦ä¹ **ï¼šé€šè¿‡è®­ç»ƒæ•°æ®å­¦ä¹ æœ€ä¼˜æ—¶æœº

### æŒ‘æˆ˜2ï¼šå›¢é˜Ÿé…åˆçš„é‡åŒ–è¯„ä¼°

**é—®é¢˜**ï¼šå¦‚ä½•é‡åŒ–è¯„ä¼°å›¢é˜Ÿé…åˆçš„ä»·å€¼ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **å¤šç»´åº¦è¯„ä¼°**ï¼šå›¢é˜Ÿå¾—åˆ†ã€é˜Ÿå‹æ”¯æŒã€èŠ‚å¥åè°ƒç­‰
2. **æƒé‡å­¦ä¹ **ï¼šé€šè¿‡è®­ç»ƒä¼˜åŒ–å„ç»´åº¦çš„æƒé‡
3. **åœºæ™¯åˆ†æ**ï¼šé’ˆå¯¹ä¸åŒåœºæ™¯ä½¿ç”¨ä¸åŒçš„è¯„ä¼°æ ‡å‡†

### æŒ‘æˆ˜3ï¼šè®­ç»ƒæ•°æ®è´¨é‡

**é—®é¢˜**ï¼šå¦‚ä½•ç”Ÿæˆé«˜è´¨é‡çš„å›¢é˜Ÿç­–ç•¥è®­ç»ƒæ•°æ®ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **åœºæ™¯è®¾è®¡**ï¼šç²¾å¿ƒè®¾è®¡è®­ç»ƒåœºæ™¯ï¼ˆé«˜åˆ†è½®æ¬¡ã€é˜Ÿå‹é…åˆç­‰ï¼‰
2. **ä¸“å®¶æ ‡æ³¨**ï¼šäººå·¥æ ‡æ³¨æœ€ä¼˜ç­–ç•¥
3. **è‡ªæˆ‘å¯¹å¼ˆ**ï¼šé€šè¿‡è‡ªæˆ‘å¯¹å¼ˆç”Ÿæˆæ•°æ®

### æŒ‘æˆ˜4ï¼šè®¡ç®—å¤æ‚åº¦

**é—®é¢˜**ï¼šå›¢é˜Ÿæ¨¡å¼çš„MCTSè®¡ç®—å¤æ‚åº¦å¤§å¹…å¢åŠ 

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **å¹¶è¡Œè®¡ç®—**ï¼šå¹¶è¡Œæ‰§è¡Œå¤šä¸ªæ¨¡æ‹Ÿ
2. **å‰ªæä¼˜åŒ–**ï¼šæå‰å‰ªææ˜æ˜¾å·®çš„åŠ¨ä½œ
3. **ç¼“å­˜æœºåˆ¶**ï¼šç¼“å­˜é‡å¤è®¡ç®—çš„è¯„ä¼°ç»“æœ

---

## ç¬¬å…­éƒ¨åˆ†ï¼šæµ‹è¯•è®¡åˆ’

### å•å…ƒæµ‹è¯•

1. **å›¢é˜Ÿè¯„ä¼°å‡½æ•°æµ‹è¯•**
   - æµ‹è¯•å›¢é˜Ÿå¾—åˆ†è®¡ç®—
   - æµ‹è¯•ä¸»åŠ¨è¦ä¸èµ·ä»·å€¼è¯„ä¼°
   - æµ‹è¯•å›¢é˜Ÿé…åˆè¯„ä¼°

2. **åŠ¨ä½œç”Ÿæˆæµ‹è¯•**
   - æµ‹è¯•ä¸»åŠ¨è¦ä¸èµ·åŠ¨ä½œç”Ÿæˆ
   - æµ‹è¯•åŠ¨ä½œåˆæ³•æ€§éªŒè¯

3. **æ¨¡æ‹Ÿè¿‡ç¨‹æµ‹è¯•**
   - æµ‹è¯•å›¢é˜Ÿç­–ç•¥æ¨¡æ‹Ÿ
   - æµ‹è¯•çŠ¶æ€æ›´æ–°æ­£ç¡®æ€§

### é›†æˆæµ‹è¯•

1. **MCTSå†³ç­–æµ‹è¯•**
   - æµ‹è¯•å›¢é˜Ÿæ¨¡å¼ä¸‹çš„MCTSå†³ç­–
   - æµ‹è¯•ä¸»åŠ¨è¦ä¸èµ·çš„å†³ç­–

2. **è®­ç»ƒç³»ç»Ÿæµ‹è¯•**
   - æµ‹è¯•è®­ç»ƒåœºæ™¯ç”Ÿæˆ
   - æµ‹è¯•å‚æ•°ä¼˜åŒ–

3. **LLMé›†æˆæµ‹è¯•**
   - æµ‹è¯•æ¨ç†é“¾ç”Ÿæˆ
   - æµ‹è¯•å»ºè®®ç”Ÿæˆ

### æ€§èƒ½æµ‹è¯•

1. **è®¡ç®—æ€§èƒ½**
   - å†³ç­–æ—¶é—´æµ‹è¯•
   - å†…å­˜ä½¿ç”¨æµ‹è¯•

2. **è®­ç»ƒæ€§èƒ½**
   - è®­ç»ƒé€Ÿåº¦æµ‹è¯•
   - æ•°æ®ç”Ÿæˆé€Ÿåº¦æµ‹è¯•

---

## ç¬¬ä¸ƒéƒ¨åˆ†ï¼šæ™ºèƒ½æ‹†ç‰Œç­–ç•¥

### 7.1 æ ¸å¿ƒæ€æƒ³

**æ‹†ç‰Œä¸æ˜¯æ€»æ˜¯åçš„ï¼Œæœ‰æ—¶å€™æ‹†ç‰Œæ˜¯å¿…è¦çš„ï¼Œå¯ä»¥å½¢æˆæœ‰åˆ©äºè‡ªå·±çš„ç‰Œå±€ã€‚**

ç°æœ‰ç³»ç»Ÿè¿‡åº¦æƒ©ç½šæ‹†ç‰Œï¼Œéœ€è¦å¼•å…¥**æ‹†ç‰Œæ”¶ç›Šè¯„ä¼°**ï¼Œå¹³è¡¡æ‹†ç‰Œçš„**ä»£ä»·**å’Œ**æ”¶ç›Š**ã€‚

### 7.2 ç°æœ‰é—®é¢˜

**ç°æœ‰è¯„ä¼°**ï¼šå‡ ä¹æ€»æ˜¯æƒ©ç½šæ‹†ç‰Œ
```typescript
if (æ‹†æ•£ä¸‰å¼ ) score -= 80;   // æ‰£åˆ†
if (æ‹†æ•£ç‚¸å¼¹) score -= 150;  // ä¸¥é‡æ‰£åˆ†
```

**é—®é¢˜**ï¼š
- âŒ ä¸è€ƒè™‘æ‹†ç‰Œçš„æˆ˜ç•¥ä»·å€¼
- âŒ ä¸è€ƒè™‘æ‹†ç‰Œåçš„æœ‰åˆ©å±€é¢
- âŒ ä¸è€ƒè™‘å›¢é˜Ÿæ¨¡å¼ä¸‹çš„æ‹†ç‰Œæ”¶ç›Š

### 7.3 æ™ºèƒ½æ‹†ç‰Œè¯„ä¼°

**æ ¸å¿ƒå…¬å¼**ï¼š`æ‹†ç‰Œè¯„ä¼° = æ‹†ç‰Œæ”¶ç›Š - æ‹†ç‰Œä»£ä»·`

åªæœ‰å½“**æ‹†ç‰Œæ”¶ç›Š > æ‹†ç‰Œä»£ä»·**æ—¶ï¼Œæ‹†ç‰Œæ‰æ˜¯å€¼å¾—çš„ã€‚

#### æ‹†ç‰Œæ”¶ç›Šç±»å‹

1. **èŠ‚å¥æ§åˆ¶æ”¶ç›Š**ï¼ˆ+40åˆ†ï¼‰ï¼šé€šè¿‡æ‹†ç‰Œæ§åˆ¶å‡ºç‰ŒèŠ‚å¥
2. **é¿å…è¢«å‹åˆ¶æ”¶ç›Š**ï¼ˆ+35åˆ†ï¼‰ï¼šæ‹†ç‰Œå¯ä»¥é¿å…è¢«å¯¹æ‰‹çš„å¤§ç‰Œå‹åˆ¶
3. **å›¢é˜Ÿé…åˆæ”¶ç›Š**ï¼ˆ+50åˆ†ï¼‰ï¼šæ‹†ç‰Œæœ‰åˆ©äºå›¢é˜Ÿé…åˆï¼Œè®©é˜Ÿå‹å‡ºç‰Œ
4. **ä¿ç•™å…³é”®ç‰Œæ”¶ç›Š**ï¼ˆ+60åˆ†ï¼‰ï¼šæ‹†ç‰Œå¯ä»¥ä¿ç•™æ›´é‡è¦çš„ç‰Œï¼ˆå¦‚ç‚¸å¼¹ï¼‰
5. **åˆ›é€ æœºä¼šæ”¶ç›Š**ï¼ˆ+40åˆ†ï¼‰ï¼šæ‹†ç‰Œå¯ä»¥åˆ›é€ åç»­å‡ºç‰Œçš„æœºä¼š
6. **é«˜åˆ†è½®æ¬¡æ”¶ç›Š**ï¼ˆ+50åˆ†ï¼‰ï¼šåœ¨é«˜åˆ†è½®æ¬¡ï¼Œæ‹†ç‰Œå¯èƒ½æ˜¯å¿…è¦çš„

#### æ‹†ç‰Œè¯„ä¼°å‡½æ•°

```typescript
function evaluateCardBreaking(
  action: Card[],
  hand: Card[],
  state: GameState,
  teamMode: boolean
): number {
  // 1. è®¡ç®—æ‹†ç‰Œä»£ä»·ï¼ˆé™ä½æƒ©ç½šåŠ›åº¦ï¼‰
  const breakingCost = evaluateBreakingCost(action, hand, state);
  
  // 2. è®¡ç®—æ‹†ç‰Œæ”¶ç›Šï¼ˆå¤šç»´åº¦è¯„ä¼°ï¼‰
  const breakingBenefits = evaluateBreakingBenefits(action, hand, state, teamMode);
  const totalBenefit = sumBreakingBenefits(breakingBenefits);
  
  // 3. ç»¼åˆè¯„ä¼°
  return totalBenefit - breakingCost;
}
```

### 7.4 æ‹†ç‰Œåœºæ™¯ç¤ºä¾‹

#### åœºæ™¯1ï¼šèŠ‚å¥æ§åˆ¶æ‹†ç‰Œ
- **æ‰‹ç‰Œ**ï¼š3ä¸ªAã€2ä¸ªKã€1ä¸ªQ
- **ä¸Šå®¶å‡º**ï¼šKï¼ˆå•å¼ ï¼‰
- **åŠ¨ä½œ**ï¼šæ‹†æ•£3ä¸ªAï¼Œå‡º1ä¸ªAå‹è¿‡
- **ç†ç”±**ï¼šä¿ç•™2ä¸ªAç”¨äºåç»­ï¼Œæ§åˆ¶èŠ‚å¥
- **æ”¶ç›Š**ï¼š+40

#### åœºæ™¯2ï¼šå›¢é˜Ÿé…åˆæ‹†ç‰Œ
- **æ‰‹ç‰Œ**ï¼š3ä¸ªAã€2ä¸ªK
- **é˜Ÿå‹æ‰‹ç‰Œ**ï¼š8å¼ ï¼Œè¾ƒå¤šå•å¼ 
- **ä¸Šå®¶å‡º**ï¼šKï¼ˆå•å¼ ï¼‰
- **åŠ¨ä½œ**ï¼šæ‹†æ•£3ä¸ªAï¼Œå‡º1ä¸ªAå‹è¿‡
- **ç†ç”±**ï¼šè®©é˜Ÿå‹ç”¨å•å¼ å‡ºç‰Œ
- **æ”¶ç›Š**ï¼š+50

#### åœºæ™¯3ï¼šä¿ç•™å…³é”®ç‰Œæ‹†ç‰Œ
- **æ‰‹ç‰Œ**ï¼š5ä¸ªAã€3ä¸ªKã€2ä¸ªQ
- **ä¸Šå®¶å‡º**ï¼šQï¼ˆå•å¼ ï¼‰
- **åŠ¨ä½œ**ï¼šæ‹†æ•£3ä¸ªKï¼Œå‡º1ä¸ªKå‹è¿‡
- **ç†ç”±**ï¼šä¿ç•™5ä¸ªAä½œä¸ºç‚¸å¼¹
- **æ”¶ç›Š**ï¼š+60

### 7.5 é›†æˆåˆ°è¯„ä¼°å‡½æ•°

```typescript
function evaluateActionQuality(
  action: Card[],
  hand: Card[],
  lastPlay: Play | null,
  state: TeamSimulatedGameState
): number {
  let score = 0;
  
  // æ£€æŸ¥æ˜¯å¦æ‹†ç‰Œ
  const isBreaking = isCardBreaking(action, hand);
  
  if (isBreaking) {
    // ä½¿ç”¨æ™ºèƒ½æ‹†ç‰Œè¯„ä¼°
    score += evaluateCardBreaking(action, hand, state, true);
  } else {
    // ä½¿ç”¨åŸæœ‰è¯„ä¼°
    score += evaluateComboBreakdown(hand, action, play, lastPlay);
  }
  
  // å…¶ä»–è¯„ä¼°é¡¹...
  return score;
}
```

### 7.6 å®æ–½è¦ç‚¹

1. **é™ä½æ‹†ç‰Œæƒ©ç½šåŠ›åº¦**ï¼šä»-80/-150é™åˆ°-40/-80
2. **å®ç°æ‹†ç‰Œæ”¶ç›Šè¯„ä¼°**ï¼šå¤šç»´åº¦è¯„ä¼°æ‹†ç‰Œä»·å€¼
3. **é›†æˆåˆ°MCTS**ï¼šåœ¨æœç´¢æ ‘ä¸­æ¢ç´¢æ‹†ç‰Œé€‰é¡¹
4. **è®­ç»ƒæ‹†ç‰Œåœºæ™¯**ï¼šç”Ÿæˆæ‹†ç‰Œè®­ç»ƒåœºæ™¯

---

## ç¬¬å…«éƒ¨åˆ†ï¼šAIç†è§£äººç±»æ²Ÿé€šå¹¶å®æ—¶è°ƒæ•´ç­–ç•¥

### 8.1 æ ¸å¿ƒåŠŸèƒ½

è®©AIç©å®¶èƒ½å¤Ÿç†è§£äººç±»ç©å®¶çš„å¯¹è¯å†…å®¹ï¼Œä»ä¸­æå–ç­–ç•¥æ„å›¾å’Œç‰Œä¿¡æ¯ï¼Œå¹¶å®æ—¶è°ƒæ•´å‡ºç‰Œç­–ç•¥ã€‚

### 8.2 ç³»ç»Ÿæµç¨‹

```
äººç±»ç©å®¶è¾“å…¥ â†’ AIç†è§£ â†’ ä¿¡æ¯æå– â†’ ç­–ç•¥è°ƒæ•´ â†’ å®æ—¶ç”Ÿæ•ˆ
     â†“           â†“         â†“          â†“          â†“
  "æˆ‘æ¥å‡º"    NLUåˆ†æ   ç­–ç•¥æ„å›¾   è°ƒæ•´æƒé‡   æ›´æ–°MCTS
  "æˆ‘æœ‰ç‚¸å¼¹"  æå–ä¿¡æ¯   ç‰Œä¿¡æ¯    è°ƒæ•´å‚æ•°   ç«‹å³å“åº”
```

### 8.3 å…³é”®ç»„ä»¶

1. **äººç±»ç©å®¶è¾“å…¥ç³»ç»Ÿ**ï¼šæ–‡å­—è¾“å…¥ + å¿«æ·çŸ­è¯­
2. **NLUç†è§£ç³»ç»Ÿ**ï¼šæ„å›¾è¯†åˆ« + ä¿¡æ¯æå–
3. **ç­–ç•¥è°ƒæ•´ç³»ç»Ÿ**ï¼šåŠ¨æ€æƒé‡è°ƒæ•´ + å®æ—¶æ›´æ–°
4. **å®æ—¶å“åº”æœºåˆ¶**ï¼šMCTSä¸­æ–­é‡å¯ + ç«‹å³ç”Ÿæ•ˆ

### 8.4 æ„å›¾è¯†åˆ«

```typescript
type IntentType = 
  | 'strategy_request'      // "æˆ‘æ¥å‡º"ã€"ä½ æ¥å‡º"
  | 'information_reveal'    // "æˆ‘æœ‰ç‚¸å¼¹"ã€"æˆ‘æ²¡æœ‰å¤§ç‰Œ"
  | 'cooperation_request'   // "æˆ‘æ¥æ‹¿åˆ†"ã€"ä½ ä¿æŠ¤"
  | 'tactical_suggestion'   // "ä¿ç•™å¤§ç‰Œ"ã€"æ‹†ç‰Œå‡º"
```

### 8.5 ç­–ç•¥å®æ—¶è°ƒæ•´

- **æ ¹æ®ç†è§£çš„ä¿¡æ¯è°ƒæ•´MCTSæƒé‡**
- **æ ¹æ®ç­–ç•¥æ„å›¾è°ƒæ•´è¯„ä¼°å‡½æ•°**
- **æ”¯æŒMCTSä¸­æ–­å’Œé‡å¯**ï¼ˆå®æ—¶ç”Ÿæ•ˆï¼‰

### 8.6 å®æ–½è¦ç‚¹

1. å®ç°èŠå¤©è¾“å…¥ç»„ä»¶
2. å®ç°NLUç†è§£æ¨¡å—ï¼ˆè§„åˆ™å¼•æ“ + LLMï¼‰
3. å®ç°åŠ¨æ€ç­–ç•¥è°ƒæ•´æœºåˆ¶
4. é›†æˆåˆ°MCTSè¯„ä¼°å‡½æ•°

---

## ç¬¬ä¹éƒ¨åˆ†ï¼šæ€»ç»“

### æ ¸å¿ƒæ”¹åŠ¨

1. **MCTSç®—æ³•**ï¼šä»ä¸ªäººç«äº‰æ¨¡å¼å‡çº§ä¸ºå›¢é˜Ÿåˆä½œæ¨¡å¼
2. **åŠ¨ä½œç©ºé—´**ï¼šæ·»åŠ "ä¸»åŠ¨è¦ä¸èµ·"ä½œä¸ºåˆæ³•åŠ¨ä½œ
3. **è¯„ä¼°å‡½æ•°**ï¼šä¼˜åŒ–å›¢é˜Ÿå¾—åˆ†è€Œéä¸ªäººå¾—åˆ†
4. **æ‹†ç‰Œç­–ç•¥**ï¼šæ™ºèƒ½è¯„ä¼°æ‹†ç‰Œçš„æ”¶ç›Šå’Œä»£ä»·
5. **AIç†è§£æ²Ÿé€š**ï¼šAIç†è§£äººç±»å¯¹è¯å¹¶å®æ—¶è°ƒæ•´ç­–ç•¥
6. **å¤šæ–¹æ¡ˆå»ºè®®**ï¼šæä¾›å¤šä¸ªå‡ºç‰Œæ–¹æ¡ˆä¾›é€‰æ‹©
7. **è®­ç»ƒç³»ç»Ÿ**ï¼šè®­ç»ƒå›¢é˜Ÿç­–ç•¥å’Œä¸»åŠ¨è¦ä¸èµ·æ—¶æœº
8. **LLMé›†æˆ**ï¼šæä¾›æ¨ç†é“¾è§£é‡Šå’Œå¤šä¸ªå»ºè®®

### é¢„æœŸæ•ˆæœ

1. **æ›´å¼ºçš„å›¢é˜Ÿé…åˆ**ï¼šAIèƒ½å¤Ÿç†è§£å¹¶æ‰§è¡Œå›¢é˜Ÿç­–ç•¥
2. **æ›´æ™ºèƒ½çš„å†³ç­–**ï¼šèƒ½å¤Ÿåˆ¤æ–­ä½•æ—¶ä¸»åŠ¨è¦ä¸èµ·
3. **æ›´å¥½çš„æ‹†ç‰Œç­–ç•¥**ï¼šèƒ½å¤Ÿè¯†åˆ«ä½•æ—¶åº”è¯¥æ‹†ç‰Œ
4. **çœŸæ­£çš„æ²Ÿé€šé…åˆ**ï¼šAIç†è§£äººç±»æ„å›¾å¹¶å®æ—¶å“åº”
5. **æ›´å¥½çš„è§£é‡Š**ï¼šLLMæä¾›æ¸…æ™°çš„æ¨ç†è¿‡ç¨‹
6. **æ›´é«˜çš„èƒœç‡**ï¼šé€šè¿‡è®­ç»ƒä¼˜åŒ–å›¢é˜Ÿç­–ç•¥

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. å¼€å§‹å®ç°é˜¶æ®µ1ï¼ˆæ ¸å¿ƒç®—æ³•é‡æ„ï¼‰
2. å®ç°æ™ºèƒ½æ‹†ç‰Œç­–ç•¥è¯„ä¼°
3. å®ç°AIç†è§£äººç±»æ²Ÿé€šç³»ç»Ÿ
4. å®ç°å¤šæ–¹æ¡ˆå»ºè®®ç³»ç»Ÿ
5. å¹¶è¡Œè®¾è®¡è®­ç»ƒåœºæ™¯
6. å‡†å¤‡LLMé›†æˆç¯å¢ƒ

---

## ğŸ“š å‚è€ƒèµ„æ–™

1. ç°æœ‰MCTSå®ç°ï¼š`src/utils/mctsAI.ts`
2. å›¢é˜Ÿè®¡åˆ†ç³»ç»Ÿï¼š`src/utils/teamScoring.ts`
3. MCTS+LLMè®¾è®¡ï¼š`docs/review/mcts-llm-reasoning-chain.md`
4. å›¢é˜Ÿä½œæˆ˜è®¾è®¡ï¼š`docs/review/team-scoring-and-chat-redesign.md`
5. æ™ºèƒ½æ‹†ç‰Œç­–ç•¥ï¼š`docs/design/smart-card-breaking-strategy.md`
6. è®­ç»ƒç³»ç»Ÿè°ƒæ•´ï¼š`docs/design/mcts-training-adjustment-for-team-mode.md`
7. AIç†è§£æ²Ÿé€šè®¾è®¡ï¼š`docs/design/ai-communication-understanding-redesign.md`
8. å¤šæ–¹æ¡ˆå»ºè®®è®¾è®¡ï¼š`docs/design/multiple-ai-suggestions-redesign.md`

