# 4人模式方向性出牌显示设计方案

## 需求概述

在4人模式下，将本轮出牌从中心区域移动到每个玩家位置附近，形成更直观的牌桌布局。

## 设计方案讨论

### 1. 出牌位置布局

#### 方案A：出牌在玩家头像"前面"（朝向中心）

**布局示意图：**
```
         [北] (玩家0)
            ↓ (纵向排列)
        [出牌区域]
            ↓
        [玩家头像]
            
            
    [西] → [出牌] → [东] (玩家3)         (玩家1)
    [头像]  [中心]  [头像]
    (纵向)           (纵向)
    [出牌]           [出牌]
            
            
        [玩家头像]
            ↑ (纵向排列)
        [出牌区域]
            ↑
         [南] (玩家2 - 人类玩家，头像不显示)
```

**优点：**
- 视觉直观，每个玩家"推"出的牌在朝向中心的方向
- 符合真实牌桌的感觉

**缺点：**
- 需要确定"前面"的具体位置
- 可能遮挡中心区域

#### 方案B：出牌在玩家头像旁边（固定偏移）

**布局：**
- 北边玩家：头像在上，出牌在头像下方（横向排列）
- 南边玩家：头像不显示，出牌在手牌上方（横向排列）
- 东边玩家：头像在右，出牌在头像左侧（纵向排列）
- 西边玩家：头像在左，出牌在头像右侧（纵向排列）

**优点：**
- 位置固定，实现简单
- 不会遮挡中心区域

**缺点：**
- 可能不如方案A直观

### 2. 排列方向

#### 南边和北边玩家（横向排列）
```
[出牌1] [出牌2] [出牌3] → (从左到右)
```

#### 东边和西边玩家（纵向排列）
```
[出牌1]  ↑
[出牌2]  |
[出牌3]  ↓ (从上到下)
```

### 3. 多次出牌处理

同一玩家可能在同一轮出多次牌，需要考虑：

**方案A：叠放显示**
- 只显示最后一次出牌
- 其他出牌隐藏或缩略显示

**方案B：依次排列**
- 按时间顺序依次排列
- 可能占用较多空间

**方案C：历史记录面板**
- 当前位置只显示最后一次出牌
- 点击可查看该玩家所有出牌历史

### 4. 人类玩家（南边）特殊处理

由于人类玩家在南方不显示头像，需要考虑：

**选项A：出牌显示在手牌上方**
- 在手牌区域的顶部，横向排列
- 与其他玩家形成对比

**选项B：出牌显示在底部固定位置**
- 在按钮组和手牌之间
- 与头像位置对应

**选项C：出牌显示在中心偏下**
- 在中心区域下方，南边方向
- 与其他AI玩家位置对称

### 5. 出牌显示内容

每个出牌区域显示：
- 玩家头像（可选，因为已经有玩家头像了）
- 卡牌（叠放显示）
- 分数徽章（如果有分牌）
- 出牌顺序标识（可选）

### 6. 实现方式

**组件结构：**
```
DirectionalPlayerLayout
├── PlayerPosition (北)
│   ├── DirectionLabel
│   ├── PlayerAvatar
│   └── PlayerPlaysArea (横向)
│       └── PlayCardStack (按时间排序)
├── PlayerPosition (东)
│   ├── DirectionLabel
│   ├── PlayerAvatar
│   └── PlayerPlaysArea (纵向)
│       └── PlayCardStack
├── PlayerPosition (西)
│   └── ...
└── PlayerPosition (南 - 人类玩家)
    └── PlayerPlaysArea (横向，在手牌上方)
```

### 7. 需要考虑的问题

1. **空间占用**：出牌区域会占用多少空间？
2. **响应式设计**：不同屏幕尺寸如何适配？
3. **卡牌大小**：每个玩家位置的卡牌大小是否一致？
4. **动画效果**：出牌时是否需要动画（从玩家位置飞向出牌区域）？
5. **历史记录**：是否保留中心区域的历史记录面板，还是完全移除？
6. **最后出牌高亮**：如何标识最后一次出牌？

## 推荐方案

**推荐采用方案A（出牌在玩家前面）+ 方案B（依次排列）+ 选项A（人类玩家出牌在手牌上方）**

理由：
1. 最直观，符合真实牌桌感觉
2. 保持所有出牌可见，便于查看历史
3. 人类玩家出牌位置与手牌相关，更符合操作逻辑

## 用户选择

1. ✅ 同一玩家多次出牌：**选项B - 按时间顺序依次排列**
2. ✅ 中心区域：**保留 PlayArea 显示最后出牌**
3. ✅ 出牌位置：**方案B - 出牌在玩家头像旁边（固定偏移）**

## 用户完整选择 ✅

1. ✅ 同一玩家多次出牌：**选项B - 按时间顺序依次排列**
2. ✅ 中心区域：**保留 PlayArea 显示最后出牌**
3. ✅ 出牌位置：**方案B - 出牌在玩家头像旁边（固定偏移）**
4. ✅ 人类玩家（南边）出牌位置：**选项B - 显示在按钮组上方（横向排列）**

## 待确认细节（可选，可以使用默认值）

1. **偏移距离**：出牌区域距离玩家头像的偏移距离
   - 默认建议：30-50px

2. **排列间距**：同一玩家多次出牌之间的间距
   - 默认建议：15-20px

3. **卡牌大小**：所有位置的卡牌大小
   - 默认建议：统一使用 small 尺寸（约 40px 宽）

如果这些默认值可以接受，我们就可以开始实现了！

