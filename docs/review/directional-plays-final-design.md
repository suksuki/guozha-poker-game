# 4人模式方向性出牌显示 - 最终设计方案

## ✅ 完整方案总结

### 核心设计

1. **出牌位置**：方案B - 出牌在玩家头像旁边（固定偏移）
2. **多次出牌**：选项B - 按时间顺序依次排列
3. **中心区域**：保留 PlayArea 显示最后出牌
4. **人类玩家位置**：选项B - 出牌显示在按钮组上方（横向排列）

### 具体布局

#### 布局示意图

```
            [北] (玩家0)
            [头像]
            ↓ 30-50px
    [出牌1] [出牌2] [出牌3] (横向排列)

[出牌1] ← [西] [头像]        [头像] [东] → [出牌1]
[出牌2]   (玩家3)    [中心]    (玩家1)    [出牌2]
[出牌3]              [PlayArea]            [出牌3]
        (纵向排列)            (纵向排列)

[出牌1] [出牌2] [出牌3] (横向排列，在按钮组上方)
        [按钮组]
        [手牌区域]
            [南] (玩家2 - 人类玩家)
```

### 实现细节

#### 1. 北边玩家
- **位置**：头像下方 30-50px
- **排列**：横向（从左到右）
- **间距**：每次出牌之间 15-20px

#### 2. 东边玩家
- **位置**：头像左侧 30-50px
- **排列**：纵向（从上到下）
- **间距**：每次出牌之间 15-20px

#### 3. 西边玩家
- **位置**：头像右侧 30-50px
- **排列**：纵向（从上到下）
- **间距**：每次出牌之间 15-20px

#### 4. 南边玩家（人类玩家）
- **位置**：按钮组上方（固定位置）
- **排列**：横向（从左到右）
- **间距**：每次出牌之间 15-20px

### 默认参数

- **偏移距离**：40px（北/南垂直距离，东/西水平距离）
- **排列间距**：20px（同一玩家多次出牌之间）
- **卡牌大小**：small（约 40px 宽）

### 组件结构

```
DirectionalPlayerLayout
├── PlayerPosition (北)
│   ├── DirectionLabel
│   ├── PlayerAvatar
│   └── PlayerPlaysArea (横向，头像下方40px)
│       └── PlayCardStack[] (按时间排序)
├── PlayerPosition (东)
│   ├── DirectionLabel
│   ├── PlayerAvatar
│   └── PlayerPlaysArea (纵向，头像左侧40px)
│       └── PlayCardStack[]
├── PlayerPosition (西)
│   ├── DirectionLabel
│   ├── PlayerAvatar
│   └── PlayerPlaysArea (纵向，头像右侧40px)
│       └── PlayCardStack[]
└── 南边区域（独立）
    └── PlayerPlaysArea (横向，按钮组上方)
        └── PlayCardStack[]

CenterArea
└── PlayArea (显示最后出牌)
```

### 实现步骤

1. 创建 `PlayerPlaysArea` 组件，支持横向/纵向排列
2. 在 `DirectionalPlayerLayout` 中为每个玩家位置添加出牌区域
3. 在人类玩家手牌区域上方添加出牌区域
4. 根据玩家方向和当前轮次出牌记录，渲染对应的出牌
5. 保留中心区域的 PlayArea

### 待实现功能

- [ ] 创建 PlayerPlaysArea 组件
- [ ] 修改 DirectionalPlayerLayout 支持出牌显示
- [ ] 实现南边玩家出牌区域（按钮组上方）
- [ ] 实现按时间顺序排列出牌
- [ ] 实现不同方向的排列（横向/纵向）
- [ ] 保留中心 PlayArea

