# å›¢é˜Ÿè®¡åˆ†è§„åˆ™ä¸èŠå¤©ç³»ç»Ÿé‡æ–°è®¾è®¡

## ğŸ“‹ æ”¹åŠ¨æ¦‚è¿°

1. **è®¡åˆ†è§„åˆ™**ï¼šä»ä¸ªäººåˆ†æ•°æ”¹ä¸º**å›¢é˜Ÿåˆ†æ•°**
2. **AIå»ºè®®ç³»ç»Ÿ**ï¼šæä¾›å‡ºç‰Œé€‰æ‹©å¹¶**è§£é‡ŠåŸå› **
3. **èŠå¤©ç³»ç»Ÿ**ï¼šå›´ç»•æ‰“ç‰Œæ²Ÿé€šï¼Œæ”¯æŒ**å¯¹éª‚ã€äº’ç›¸æŒ‡è´£**ç­‰

---

## ğŸ¯ æ”¹åŠ¨1ï¼šå›¢é˜Ÿè®¡åˆ†ç³»ç»Ÿ

### å½“å‰ç³»ç»Ÿï¼ˆä¸ªäººè®¡åˆ†ï¼‰

```
ç©å®¶1: +150åˆ†
ç©å®¶2: +80åˆ†
ç©å®¶3: -100åˆ†
ç©å®¶4: -130åˆ†
```

### æ–°ç³»ç»Ÿï¼ˆå›¢é˜Ÿè®¡åˆ†ï¼‰

#### æ–¹æ¡ˆ1ï¼šå®Œå…¨å›¢é˜Ÿè®¡åˆ† â­â­â­â­â­
**æè¿°**ï¼šåªæ˜¾ç¤ºå›¢é˜Ÿæ€»åˆ†æ•°ï¼Œä¸æ˜¾ç¤ºä¸ªäººåˆ†æ•°

```
å›¢é˜ŸAï¼ˆç©å®¶1 + ç©å®¶3ï¼‰: +50åˆ†
å›¢é˜ŸBï¼ˆç©å®¶2 + ç©å®¶4ï¼‰: -50åˆ†
```

**è®¡åˆ†é€»è¾‘**ï¼š
```typescript
// å›¢é˜Ÿæ€»åˆ†æ•° = æ‰€æœ‰é˜Ÿå‘˜çš„åˆ†æ•°ä¹‹å’Œ
teamScore = player1Score + player2Score;

// æ¸¸æˆç»“æŸæ—¶
if (teamScore > 0) {
  // å›¢é˜Ÿè·èƒœ
  team1.result = 'win';
  team2.result = 'lose';
}
```

#### æ–¹æ¡ˆ2ï¼šå›¢é˜Ÿåˆ†æ•° + ä¸ªäººè´¡çŒ® â­â­â­â­
**æè¿°**ï¼šæ˜¾ç¤ºå›¢é˜Ÿåˆ†æ•°ï¼Œä½†ä¿ç•™ä¸ªäººè´¡çŒ®æ•°æ®ï¼ˆç”¨äºåˆ†æï¼‰

```
å›¢é˜ŸAæ€»åˆ†: +50åˆ†
  - ç©å®¶1è´¡çŒ®: +80åˆ†
  - ç©å®¶3è´¡çŒ®: -30åˆ†

å›¢é˜ŸBæ€»åˆ†: -50åˆ†
  - ç©å®¶2è´¡çŒ®: +20åˆ†
  - ç©å®¶4è´¡çŒ®: -70åˆ†
```

**ä¼˜ç‚¹**ï¼šå¯ä»¥çœ‹åˆ°æ¯ä¸ªé˜Ÿå‹çš„è´¡çŒ®ï¼Œå¸®åŠ©æ”¹è¿›ç­–ç•¥

#### æ–¹æ¡ˆ3ï¼šå›¢é˜Ÿåˆ†æ•° + ä¸ªäººæ’å â­â­â­
**æè¿°**ï¼šå›¢é˜Ÿåˆ†æ•°å†³å®šèƒœè´Ÿï¼Œä½†ä¿ç•™ä¸ªäººæ’åï¼ˆç”¨äºå¥–åŠ±ï¼‰

```
å›¢é˜ŸA: +50åˆ†ï¼ˆè·èƒœï¼‰
  - ç©å®¶1: ç¬¬1åï¼ˆå‡ºå®Œç‰Œé¡ºåºï¼‰
  - ç©å®¶3: ç¬¬3å

å›¢é˜ŸB: -50åˆ†ï¼ˆå¤±è´¥ï¼‰
  - ç©å®¶2: ç¬¬2å
  - ç©å®¶4: ç¬¬4å
```

### æ¨èæ–¹æ¡ˆï¼šæ–¹æ¡ˆ1ï¼ˆå®Œå…¨å›¢é˜Ÿè®¡åˆ†ï¼‰

**ç†ç”±**ï¼š
- âœ… ç®€åŒ–è®¡åˆ†é€»è¾‘
- âœ… å¼ºåŒ–å›¢é˜Ÿåˆä½œæ„è¯†
- âœ… ç¬¦åˆåˆä½œæ¨¡å¼çš„è®¾è®¡ç†å¿µ

### è®¡åˆ†è§„åˆ™ä¿®æ”¹ç‚¹

#### 1. è½®æ¬¡åˆ†æ•°åˆ†é…

**åŸè§„åˆ™**ï¼š
```
ç©å®¶1å‡ºç‰Œæ‹¿åˆ°15åˆ† â†’ ç©å®¶1 +15åˆ†
```

**æ–°è§„åˆ™**ï¼š
```
ç©å®¶1å‡ºç‰Œæ‹¿åˆ°15åˆ† â†’ å›¢é˜ŸA +15åˆ†ï¼ˆä¸åˆ†é…ç»™ä¸ªäººï¼‰
```

#### 2. å¢©çš„è®¡åˆ†

**åŸè§„åˆ™**ï¼š
```
ç©å®¶1å‡ºå¢© â†’ ä»å…¶ä»–ç©å®¶æ‰£é™¤ â†’ ç©å®¶1è·å¾—åˆ†æ•°
```

**æ–°è§„åˆ™**ï¼š
```
ç©å®¶1å‡ºå¢© â†’ ä»å¯¹æ–¹å›¢é˜Ÿæ‰£é™¤ â†’ å›¢é˜ŸAè·å¾—åˆ†æ•°
```

#### 3. æœ€ç»ˆè§„åˆ™

**åŸè§„åˆ™**ï¼š
```
ç¬¬ä¸€å +30åˆ†
æœ€åä¸€å -30åˆ†
```

**æ–°è§„åˆ™**ï¼š
```
å¤´æ¸¸å›¢é˜Ÿ +30åˆ†ï¼ˆç»™å›¢é˜Ÿæ€»åˆ†ï¼‰
æœ«æ¸¸å›¢é˜Ÿ -30åˆ†ï¼ˆä»å›¢é˜Ÿæ€»åˆ†æ‰£é™¤ï¼‰

æˆ–è€…ï¼š
è·èƒœå›¢é˜Ÿ +60åˆ†ï¼ˆç®€å•ç²—æš´ï¼‰
å¤±è´¥å›¢é˜Ÿ -60åˆ†
```

#### 4. æœ«æ¸¸å‰©ä½™åˆ†ç‰Œ

**åŸè§„åˆ™**ï¼š
```
æœ€åä¸€åæœªå‡ºçš„åˆ†ç‰Œ â†’ æ‰£é™¤è‡ªå·±åˆ†æ•° â†’ ç»™ç¬¬äºŒå
```

**æ–°è§„åˆ™**ï¼š
```
æœ«æ¸¸å›¢é˜Ÿæœªå‡ºçš„åˆ†ç‰Œ â†’ ä»å›¢é˜Ÿæ€»åˆ†æ‰£é™¤ â†’ ç»™å¤´æ¸¸å›¢é˜Ÿ
```

### å®ç°è¦ç‚¹

```typescript
interface TeamScore {
  teamId: number;
  players: number[];  // é˜Ÿå‘˜ID
  teamScore: number;  // å›¢é˜Ÿæ€»åˆ†æ•°
  roundScore: number; // å½“å‰è½®æ¬¡å›¢é˜Ÿåˆ†æ•°
}

// åˆ†æ•°åˆ†é…é€»è¾‘
function allocateRoundScore(
  playerIndex: number,
  score: number,
  teams: Team[]
): void {
  const team = findTeamByPlayer(playerIndex, teams);
  team.teamScore += score;  // ç›´æ¥åŠ åˆ°å›¢é˜Ÿåˆ†æ•°
  // ä¸åˆ†é…ç»™ä¸ªäºº
}
```

### UIæ˜¾ç¤ºå˜åŒ–

**åŸUI**ï¼š
```
ç©å®¶1: 150åˆ†
ç©å®¶2: 80åˆ†
ç©å®¶3: -100åˆ†
ç©å®¶4: -130åˆ†
```

**æ–°UI**ï¼š
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  å›¢é˜ŸAï¼ˆä½  + AIé˜Ÿå‹ï¼‰     â•‘
â•‘  ğŸ¯ å›¢é˜Ÿåˆ†æ•°: +50åˆ†       â•‘
â•‘  ğŸ“Š å½“å‰è½®æ¬¡: +15åˆ†       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  å›¢é˜ŸBï¼ˆå¯¹æ‰‹1 + å¯¹æ‰‹2ï¼‰   â•‘
â•‘  ğŸ¯ å›¢é˜Ÿåˆ†æ•°: -50åˆ†       â•‘
â•‘  ğŸ“Š å½“å‰è½®æ¬¡: 0åˆ†         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ¤– æ”¹åŠ¨2ï¼šAIå»ºè®®ç³»ç»Ÿå¢å¼º

### å½“å‰AIå»ºè®®ç³»ç»Ÿ

**ç°çŠ¶**ï¼š
- æä¾›å‡ºç‰Œå»ºè®®
- ç®€å•æç¤º"AIå»ºè®®ï¼šè¦ä¸èµ·"

### æ–°ç³»ç»Ÿè®¾è®¡

#### æ ¸å¿ƒéœ€æ±‚
1. âœ… æä¾›å¤šä¸ªå‡ºç‰Œé€‰æ‹©
2. âœ… è§£é‡Šæ¯ä¸ªé€‰æ‹©çš„åŸå› 
3. âœ… è¯„ä¼°æ¯ä¸ªé€‰æ‹©çš„æ”¶ç›Š
4. âœ… å¸®åŠ©ç©å®¶ç†è§£ç­–ç•¥

### è®¾è®¡æ–¹æ¡ˆ

#### æ–¹æ¡ˆ1ï¼šå¤šé€‰æ‹©å¯¹æ¯” â­â­â­â­â­

**ç•Œé¢è®¾è®¡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¡ AIç­–ç•¥å»ºè®®                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚ æ¨èé€‰æ‹©1ï¼šä¸»åŠ¨è¦ä¸èµ·                   â”‚
â”‚ â­â­â­â­â­                              â”‚
â”‚ ğŸ“Š é¢„æœŸå›¢é˜Ÿæ”¶ç›Š: +25åˆ†                 â”‚
â”‚ ğŸ’­ åŸå› ï¼š                              â”‚
â”‚   â€¢ ä½ çš„é˜Ÿå‹æ‰‹ç‰Œæ›´å°‘ï¼ˆ8å¼ ï¼‰ï¼Œæ›´é€‚åˆå‡ºç‰Œâ”‚
â”‚   â€¢ å½“å‰è½®æ¬¡æœ‰15åˆ†ï¼Œé˜Ÿå‹å¯ä»¥ä¿æŠ¤åˆ†ç‰Œ   â”‚
â”‚   â€¢ ä½ ä¿ç•™å¤§ç‰Œï¼ˆAã€Aã€Aï¼‰ç”¨äºå…³é”®è½®æ¬¡  â”‚
â”‚   â€¢ å›¢é˜Ÿä¼˜åŠ¿: +10åˆ†                    â”‚
â”‚                                         â”‚
â”‚ [é€‰æ‹©æ­¤å»ºè®®]                            â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚ é€‰æ‹©2ï¼šå‡ºKï¼ˆå•å¼ ï¼‰                      â”‚
â”‚ â­â­â­                                â”‚
â”‚ ğŸ“Š é¢„æœŸå›¢é˜Ÿæ”¶ç›Š: +15åˆ†                 â”‚
â”‚ ğŸ’­ åŸå› ï¼š                              â”‚
â”‚   â€¢ ä½ å¯ä»¥ç«‹å³æ‹¿åˆ°å½“å‰è½®æ¬¡çš„15åˆ†       â”‚
â”‚   â€¢ é£é™©ï¼šæš´éœ²äº†ä½ æ‰‹ä¸Šæœ‰å¤§ç‰Œ           â”‚
â”‚   â€¢ å¯èƒ½å½±å“åç»­ç­–ç•¥                   â”‚
â”‚   â€¢ å›¢é˜Ÿä¼˜åŠ¿: +5åˆ†                     â”‚
â”‚                                         â”‚
â”‚ [é€‰æ‹©æ­¤å»ºè®®]                            â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚ é€‰æ‹©3ï¼šå‡ºAï¼ˆå•å¼ ï¼‰                      â”‚
â”‚ â­â­                                   â”‚
â”‚ ğŸ“Š é¢„æœŸå›¢é˜Ÿæ”¶ç›Š: +10åˆ†                 â”‚
â”‚ ğŸ’­ åŸå› ï¼š                              â”‚
â”‚   â€¢ å¯ä»¥å‹è¿‡å¯¹æ‰‹                        â”‚
â”‚   â€¢ âš ï¸ ä½†æµªè´¹äº†å¤§ç‰Œï¼Œæ‹†æ•£äº†æ½œåœ¨ç‚¸å¼¹    â”‚
â”‚   â€¢ ä¸æ¨èï¼šå¯¹å›¢é˜Ÿé•¿æœŸæ”¶ç›Šä¸åˆ©         â”‚
â”‚                                         â”‚
â”‚ [é€‰æ‹©æ­¤å»ºè®®]                            â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ–¹æ¡ˆ2ï¼šç®€åŒ–ç‰ˆï¼ˆæ¨èç”¨äºå¿«é€Ÿå†³ç­–ï¼‰â­â­â­â­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¡ AIå»ºè®®ï¼šä¸»åŠ¨è¦ä¸èµ·                   â”‚
â”‚                                         â”‚
â”‚ ğŸ“Š å›¢é˜Ÿæ”¶ç›Šé¢„æœŸ: +25åˆ†                 â”‚
â”‚                                         â”‚
â”‚ ğŸ’­ åŸå› ï¼š                              â”‚
â”‚ â€¢ é˜Ÿå‹æ‰‹ç‰Œæ›´å°‘ï¼Œæ›´é€‚åˆå‡ºç‰Œ              â”‚
â”‚ â€¢ ä¿æŠ¤ä½ çš„å¤§ç‰Œï¼ˆAã€Aã€Aï¼‰              â”‚
â”‚ â€¢ è®©é˜Ÿå‹ä¿æŠ¤åˆ†ç‰Œ                       â”‚
â”‚                                         â”‚
â”‚ [ç¡®è®¤è¦ä¸èµ·] [æŸ¥çœ‹å…¶ä»–é€‰æ‹©]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AIå»ºè®®çš„å†…å®¹ç»“æ„

```typescript
interface AIAdvice {
  recommendedAction: PlayAction;  // æ¨èåŠ¨ä½œ
  alternatives: AlternativeAction[];  // å¤‡é€‰åŠ¨ä½œ
  explanation: {
    reason: string;  // ä¸»è¦åŸå› 
    teamBenefit: number;  // å›¢é˜Ÿæ”¶ç›Š
    riskLevel: 'low' | 'medium' | 'high';  // é£é™©ç­‰çº§
    details: string[];  // è¯¦ç»†è¯´æ˜ï¼ˆåˆ—è¡¨ï¼‰
  };
}

interface AlternativeAction {
  action: PlayAction;
  rating: number;  // 1-5æ˜Ÿ
  teamBenefit: number;
  reason: string;
  pros: string[];  // ä¼˜ç‚¹
  cons: string[];  // ç¼ºç‚¹
}
```

### å»ºè®®ç”Ÿæˆé€»è¾‘

#### 1. åˆ†æå½“å‰å±€åŠ¿

```typescript
function analyzeSituation(state: GameState): SituationAnalysis {
  return {
    currentRoundScore: 15,  // å½“å‰è½®æ¬¡æœ‰15åˆ†
    teammateHandCount: 8,   // é˜Ÿå‹æ‰‹ç‰Œæ›´å°‘
    teammateHasScoreCards: true,  // é˜Ÿå‹æœ‰åˆ†ç‰Œ
    myBigCards: ['A', 'A', 'A'],  // æˆ‘æœ‰å¤§ç‰Œ
    opponentThreat: 'medium'  // å¯¹æ‰‹å¨èƒç¨‹åº¦
  };
}
```

#### 2. è¯„ä¼°ä¸åŒé€‰æ‹©

```typescript
function evaluateOptions(
  situation: SituationAnalysis,
  availableActions: PlayAction[]
): AIAdvice {
  const options = availableActions.map(action => {
    // ä½¿ç”¨MCTSæ¨¡æ‹Ÿè¯„ä¼°
    const simulationResult = mctsSimulate(action, situation);
    
    return {
      action,
      teamBenefit: simulationResult.expectedTeamScore,
      riskLevel: simulationResult.riskLevel,
      reason: generateReason(action, simulationResult)
    };
  });
  
  // æ’åºï¼Œé€‰æ‹©æœ€ä¼˜çš„
  options.sort((a, b) => b.teamBenefit - a.teamBenefit);
  
  return {
    recommendedAction: options[0],
    alternatives: options.slice(1, 3),  // æä¾›2ä¸ªå¤‡é€‰
    explanation: generateExplanation(options[0])
  };
}
```

#### 3. ç”Ÿæˆè§£é‡Šæ–‡æœ¬

```typescript
function generateExplanation(option: EvaluatedAction): Explanation {
  const reasons: string[] = [];
  
  // æ ¹æ®åˆ†æç»“æœç”ŸæˆåŸå› 
  if (option.teamBenefit > 20) {
    reasons.push(`é¢„æœŸå›¢é˜Ÿæ”¶ç›Š: +${option.teamBenefit}åˆ†`);
  }
  
  if (situation.teammateHandCount < situation.myHandCount) {
    reasons.push(`é˜Ÿå‹æ‰‹ç‰Œæ›´å°‘ï¼ˆ${situation.teammateHandCount}å¼ ï¼‰ï¼Œæ›´é€‚åˆå‡ºç‰Œ`);
  }
  
  if (situation.teammateHasScoreCards) {
    reasons.push(`é˜Ÿå‹æœ‰åˆ†ç‰Œï¼Œéœ€è¦ä¿æŠ¤`);
  }
  
  if (option.action.type === 'pass' && hasBigCards()) {
    reasons.push(`ä¿ç•™å¤§ç‰Œç”¨äºå…³é”®è½®æ¬¡`);
  }
  
  return {
    reason: reasons[0],  // ä¸»è¦åŸå› 
    details: reasons     // è¯¦ç»†åˆ—è¡¨
  };
}
```

### UIäº¤äº’è®¾è®¡

#### å¿«é€Ÿå»ºè®®æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
- æ˜¾ç¤º1ä¸ªæ¨èå»ºè®®
- ç‚¹å‡»å±•å¼€æŸ¥çœ‹åŸå› 
- ä¸€é”®ç¡®è®¤

#### è¯¦ç»†å¯¹æ¯”æ¨¡å¼
- æ˜¾ç¤º3ä¸ªé€‰æ‹©
- å¯¹æ¯”ä¼˜ç¼ºç‚¹
- å¸®åŠ©ç©å®¶å­¦ä¹ ç­–ç•¥

---

## ğŸ’¬ æ”¹åŠ¨3ï¼šèŠå¤©ç³»ç»Ÿé‡æ–°è®¾è®¡

### å½“å‰èŠå¤©ç³»ç»Ÿ

**ç°çŠ¶**ï¼š
- AIç”Ÿæˆå¯¹è¯
- å¯èƒ½ä¸å¤Ÿè´´åˆç‰Œæ¡Œåœºæ™¯
- ç¼ºå°‘é’ˆå¯¹æ€§çš„æ²Ÿé€š

### æ–°ç³»ç»Ÿè®¾è®¡ç›®æ ‡

1. âœ… **å›´ç»•æ‰“ç‰Œæ²Ÿé€š**
2. âœ… **å¯¹éª‚ã€äº’ç›¸æŒ‡è´£**
3. âœ… **ç­–ç•¥æ²Ÿé€š**ï¼ˆåˆä½œæ¨¡å¼ï¼‰
4. âœ… **æƒ…ç»ªè¡¨è¾¾**

### èŠå¤©å†…å®¹åˆ†ç±»

#### 1. æ‰“ç‰Œç›¸å…³æ²Ÿé€š â­â­â­â­â­

##### å‡ºç‰Œæ—¶
```
- "è·Ÿä¸€æ‰‹ï¼"
- "å‹æ­»ä½ ï¼"
- "çœ‹æˆ‘æ€ä¹ˆæ”¶æ‹¾ä½ ï¼"
- "è¿™æŠŠæˆ‘è¦äº†ï¼"
```

##### è¦ä¸èµ·æ—¶
```
- "è¦ä¸èµ·..."
- "è¿™ç‰Œæˆ‘åƒä¸èµ·"
- "è®©ä½ ä»¬å…ˆç©"
- "æˆ‘çœ‹çœ‹ä½ ä»¬æ€ä¹ˆæ‰“"
```

##### å‡ºå¥½ç‰Œæ—¶
```
- "å“ˆå“ˆï¼Œç‚¸å¼¹ï¼"
- "æˆ‘çš„å¢©ï¼Œä½ ä»¬éƒ½è¦ä¸èµ·ï¼"
- "è¿™åˆ†æˆ‘æ‹¿äº†ï¼"
```

##### åˆ†ç‰Œäº‰å¤º
```
- "è¿™15åˆ†æˆ‘è¦å®šäº†ï¼"
- "ä¼‘æƒ³æŠ¢æˆ‘çš„åˆ†ï¼"
- "åˆ†ç‰Œç•™ç»™æˆ‘ï¼"
```

#### 2. å¯¹éª‚ã€äº’ç›¸æŒ‡è´£ â­â­â­â­â­

##### æ”»å‡»æ€§å¯¹è¯
```
- "ä½ æ‰“å¾—ä»€ä¹ˆåƒåœ¾ç‰Œï¼"
- "ä¼šä¸ä¼šç©å•Šï¼Ÿ"
- "è¿™ä¹ˆçƒ‚çš„ç‰Œä¹Ÿæ•¢å‡ºï¼Ÿ"
- "ä½ è¿™æ˜¯åœ¨é€åˆ†ï¼"
```

##### æŒ‘è¡…
```
- "å°±è¿™ï¼Ÿ"
- "è¿˜æœ‰æ²¡æœ‰æ›´å¥½çš„ï¼Ÿ"
- "ä½ çš„å¤§ç‰Œå‘¢ï¼Ÿ"
- "ä¸æœå†æ¥ï¼"
```

##### å˜²è®½
```
- "å“ˆå“ˆï¼Œä½ çš„ç‰Œä¸è¡Œå•Š"
- "æ—©å°±çœ‹å‡ºä½ è¦ä¸èµ·"
- "ä½ çš„ç­–ç•¥å¤ªæ˜æ˜¾äº†"
- "è¿™å°±æ˜¯ä½ çš„æ°´å¹³ï¼Ÿ"
```

##### æŒ‡è´£ï¼ˆé’ˆå¯¹é”™è¯¯å†³ç­–ï¼‰
```
- "ä½ åˆšæ‰ä¸åº”è¯¥å‡ºé‚£å¼ ç‰Œ"
- "ä½ å®³å¾—æˆ‘ä»¬ä¸¢äº†15åˆ†"
- "ä½ çš„ç­–ç•¥æœ‰é—®é¢˜"
- "ä½ åº”è¯¥é…åˆæˆ‘"
```

#### 3. ç­–ç•¥æ²Ÿé€šï¼ˆåˆä½œæ¨¡å¼ï¼‰â­â­â­â­â­

##### é…åˆæ²Ÿé€š
```
- "æˆ‘æ¥ï¼"
- "ä½ å‡ºï¼Œæˆ‘ä¿æŠ¤"
- "ä¿ç•™å¤§ç‰Œ"
- "åˆ†ç‰Œç•™ç»™æˆ‘"
- "è®©æˆ‘æ¥æ‹¿è¿™åˆ†"
```

##### ä¿¡å·æ²Ÿé€š
```
- "æˆ‘æœ‰å¤§ç‰Œ"
- "ä½ å…ˆå‡º"
- "ä¿æŠ¤åˆ†ç‰Œ"
- "å¿«é€Ÿå‡ºå®Œ"
```

#### 4. æƒ…ç»ªè¡¨è¾¾ â­â­â­â­

##### å…´å¥‹
```
- "å¤ªå¥½äº†ï¼"
- "è¿™æŠŠç¨³äº†ï¼"
- "æˆ‘ä»¬èµ¢äº†ï¼"
```

##### æ²®ä¸§
```
- "è¿™ç‰Œå¤ªçƒ‚äº†"
- "è¿æ°”ä¸å¥½"
- "åˆè¢«æŠ¢åˆ†äº†"
```

##### ç´§å¼ 
```
- "å°å¿ƒç‚¹"
- "è¿™å¾ˆå…³é”®"
- "ä¸èƒ½å‡ºé”™"
```

### èŠå¤©è§¦å‘æœºåˆ¶

#### åŸºäºæ¸¸æˆäº‹ä»¶è§¦å‘

```typescript
interface ChatTrigger {
  event: GameEvent;
  context: GameContext;
  generateChat(): ChatMessage[];
}

// äº‹ä»¶ç±»å‹
enum GameEvent {
  PLAYER_PLAY_CARDS,      // ç©å®¶å‡ºç‰Œ
  PLAYER_PASS,            // ç©å®¶è¦ä¸èµ·
  BOMB_PLAYED,            // å‡ºç‚¸å¼¹
  SCORE_CARD_PLAYED,      // å‡ºåˆ†ç‰Œ
  ROUND_END,              // è½®æ¬¡ç»“æŸ
  MISTAKE_MADE,           // é”™è¯¯å†³ç­–
  GOOD_PLAY,              // å¥½ç‰Œ
  TEAMMATE_NEEDS_HELP,    // é˜Ÿå‹éœ€è¦å¸®åŠ©
}
```

#### å…·ä½“è§¦å‘é€»è¾‘

##### 1. å‡ºç‰Œæ—¶è§¦å‘
```typescript
onPlayerPlayCards(playerId, cards, context) {
  // ç”Ÿæˆç›¸å…³èŠå¤©
  if (isBomb(cards)) {
    generateChat("bomb_celebration", context);
  }
  
  if (hasScoreCards(cards)) {
    generateChat("score_card_claim", context);
  }
  
  // å¯¹æ‰‹çš„ååº”
  opponents.forEach(opponent => {
    if (canBeat(cards, opponent.hand)) {
      generateChat("threat_response", opponent, context);
    }
  });
}
```

##### 2. é”™è¯¯å†³ç­–è§¦å‘
```typescript
onMistakeDetected(playerId, mistake, context) {
  // é˜Ÿå‹çš„ååº”
  if (isTeammate(playerId)) {
    generateChat("teammate_criticism", context);
  } else {
    generateChat("opponent_taunt", context);
  }
}
```

##### 3. åˆ†ç‰Œäº‰å¤ºè§¦å‘
```typescript
onScoreCardPlayed(roundScore, context) {
  // æ‰€æœ‰ç©å®¶éƒ½æƒ³äº‰å¤º
  players.forEach(player => {
    if (canTakeScore(player)) {
      generateChat("score_competition", player, context);
    }
  });
}
```

### èŠå¤©ç”Ÿæˆç­–ç•¥

#### 1. åŸºäºè§’è‰²æ€§æ ¼

```typescript
interface CharacterPersonality {
  aggressive: number;      // æ”»å‡»æ€§ 0-1
  cooperative: number;     // åˆä½œæ€§ 0-1
  taunting: number;        // å˜²è®½å€¾å‘ 0-1
  supportive: number;      // æ”¯æŒæ€§ 0-1
}

// ä¸åŒæ€§æ ¼ç”Ÿæˆä¸åŒçš„èŠå¤©å†…å®¹
function generateChatByPersonality(
  event: GameEvent,
  personality: CharacterPersonality
): string {
  if (personality.aggressive > 0.7) {
    return generateAggressiveChat(event);
  } else if (personality.cooperative > 0.7) {
    return generateCooperativeChat(event);
  }
  // ...
}
```

#### 2. åŸºäºæ¸¸æˆçŠ¶æ€

```typescript
function generateContextualChat(
  event: GameEvent,
  gameState: GameState
): string {
  // æ ¹æ®å½“å‰åˆ†æ•°å·®è·
  if (gameState.teamScoreDiff > 50) {
    return generateLeadingChat(event);  // é¢†å…ˆæ—¶çš„å¯¹è¯
  } else if (gameState.teamScoreDiff < -50) {
    return generateLosingChat(event);   // è½åæ—¶çš„å¯¹è¯
  }
  
  // æ ¹æ®æ‰‹ç‰Œæƒ…å†µ
  if (player.handCount < 5) {
    return generateEndgameChat(event);  // æ¥è¿‘ç»“æŸ
  }
  
  // ...
}
```

#### 3. åŸºäºå…³ç³»ï¼ˆåˆä½œæ¨¡å¼ï¼‰

```typescript
function generateTeamChat(
  event: GameEvent,
  relationship: 'teammate' | 'opponent'
): string {
  if (relationship === 'teammate') {
    // é˜Ÿå‹ä¹‹é—´çš„å¯¹è¯
    return generateCooperativeChat(event);
  } else {
    // å¯¹æ‰‹ä¹‹é—´çš„å¯¹è¯
    return generateCompetitiveChat(event);
  }
}
```

### èŠå¤©å†…å®¹ç¤ºä¾‹åº“

#### å‡ºç‰Œç›¸å…³
```typescript
const playChats = {
  good_play: [
    "è¿™æŠŠæˆ‘è¦äº†ï¼",
    "çœ‹æˆ‘çš„ï¼",
    "å‹æ­»ä½ ï¼",
    "è¿™åˆ†æˆ‘æ‹¿äº†ï¼"
  ],
  bomb: [
    "ç‚¸å¼¹ï¼å“ˆå“ˆï¼",
    "æˆ‘çš„ç‚¸å¼¹æ¥äº†ï¼",
    "ä½ ä»¬éƒ½è¦ä¸èµ·ï¼",
    "çœ‹æˆ‘ç‚¸æ­»ä½ ä»¬ï¼"
  ],
  pass: [
    "è¦ä¸èµ·...",
    "è¿™ç‰Œæˆ‘åƒä¸èµ·",
    "è®©ä½ ä»¬å…ˆç©",
    "æˆ‘çœ‹çœ‹"
  ]
};
```

#### å¯¹éª‚ç›¸å…³
```typescript
const tauntChats = {
  opponent_bad_play: [
    "ä½ æ‰“å¾—ä»€ä¹ˆåƒåœ¾ç‰Œï¼",
    "ä¼šä¸ä¼šç©å•Šï¼Ÿ",
    "è¿™ä¹ˆçƒ‚çš„ç‰Œä¹Ÿæ•¢å‡ºï¼Ÿ"
  ],
  opponent_pass: [
    "å°±è¿™ï¼Ÿ",
    "ä½ çš„å¤§ç‰Œå‘¢ï¼Ÿ",
    "ä¸æœå†æ¥ï¼"
  ],
  score_stolen: [
    "æƒ³æŠ¢æˆ‘çš„åˆ†ï¼Ÿ",
    "è¿™åˆ†æˆ‘è¦å®šäº†ï¼",
    "ä¼‘æƒ³ï¼"
  ]
};
```

#### åˆä½œç›¸å…³
```typescript
const cooperationChats = {
  teammate_good: [
    "å¥½ç‰Œï¼",
    "æ¼‚äº®ï¼",
    "é…åˆå¾—å¥½ï¼"
  ],
  teammate_mistake: [
    "ä½ åˆšæ‰ä¸åº”è¯¥å‡ºé‚£å¼ ",
    "ä¿ç•™å¤§ç‰Œå•Š",
    "è®©æˆ‘æ¥"
  ],
  coordination: [
    "æˆ‘æ¥ï¼",
    "ä½ å‡ºï¼Œæˆ‘ä¿æŠ¤",
    "åˆ†ç‰Œç•™ç»™æˆ‘"
  ]
};
```

### UIè®¾è®¡

#### èŠå¤©æ°”æ³¡æ ·å¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ç©å®¶1                â”‚
â”‚ "çœ‹æˆ‘çš„ç‚¸å¼¹ï¼"          â”‚
â”‚ â° 2ç§’å‰                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– AIé˜Ÿå‹               â”‚
â”‚ "å¥½ç‰Œï¼æˆ‘æ¥é…åˆä½ "      â”‚
â”‚ â° 1ç§’å‰                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ˜¤ å¯¹æ‰‹1                â”‚
â”‚ "ä½ æ‰“å¾—ä»€ä¹ˆåƒåœ¾ç‰Œï¼"    â”‚
â”‚ â° åˆšåˆš                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å¿«æ·èŠå¤©ï¼ˆå¯é€‰ï¼‰

```
[å¿«æ·å›å¤]
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ æˆ‘æ¥ â”‚ ä½ æ¥ â”‚ å¥½ç‰Œ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¦ä¸èµ·â”‚ ä¿æŠ¤ â”‚ æŠ¢åˆ† â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ç³»ç»Ÿè”åŠ¨

### 1. èŠå¤© + è®¡åˆ†è”åŠ¨

```
å½“å›¢é˜Ÿåˆ†æ•°é¢†å…ˆæ—¶ï¼š
- AIä¼šè¯´ï¼š"æˆ‘ä»¬é¢†å…ˆäº†ï¼Œä¿æŒä½ï¼"

å½“å›¢é˜Ÿåˆ†æ•°è½åæ—¶ï¼š
- AIä¼šè¯´ï¼š"è½åäº†ï¼Œè¦åŠ æ²¹å•Šï¼"

å½“æ‹¿åˆ°å…³é”®åˆ†æ•°æ—¶ï¼š
- AIä¼šè¯´ï¼š"è¿™åˆ†å¾ˆå…³é”®ï¼Œæˆ‘ä»¬èµ¢äº†ï¼"
```

### 2. èŠå¤© + AIå»ºè®®è”åŠ¨

```
AIå»ºè®®æ—¶ï¼š
- "æˆ‘å»ºè®®ä½ ä¸»åŠ¨è¦ä¸èµ·ï¼Œå› ä¸ºé˜Ÿå‹æ‰‹ç‰Œæ›´å°‘"

ç©å®¶ç¡®è®¤å»ºè®®åï¼š
- AIé˜Ÿå‹ä¼šè¯´ï¼š"å¥½ï¼Œæˆ‘æ¥å‡ºï¼"
- å¯¹æ‰‹å¯èƒ½ä¼šè¯´ï¼š"ä½ ä»¬åœ¨æä»€ä¹ˆï¼Ÿ"
```

### 3. èŠå¤© + æ¸¸æˆäº‹ä»¶è”åŠ¨

```
å‡ºç‚¸å¼¹æ—¶ï¼š
- è‡ªåŠ¨è§¦å‘ï¼š"ç‚¸å¼¹ï¼"
- å¯¹æ‰‹ååº”ï¼š"ä½ ç‹ ï¼"

åˆ†ç‰Œäº‰å¤ºæ—¶ï¼š
- è‡ªåŠ¨è§¦å‘ï¼š"è¿™åˆ†æˆ‘è¦äº†ï¼"
- å…¶ä»–äººååº”ï¼š"æƒ³å¾—ç¾ï¼"
```

---

## ğŸ“Š å®ç°ä¼˜å…ˆçº§

### é«˜ä¼˜å…ˆçº§
1. âœ… **å›¢é˜Ÿè®¡åˆ†ç³»ç»Ÿ** - æ ¸å¿ƒæ”¹åŠ¨
2. âœ… **èŠå¤©ç³»ç»Ÿé‡æ„** - æ ¸å¿ƒä½“éªŒ
3. âœ… **AIå»ºè®®å¢å¼º** - æ ¸å¿ƒåŠŸèƒ½

### ä¸­ä¼˜å…ˆçº§
1. âš ï¸ èŠå¤©å¿«æ·å›å¤
2. âš ï¸ èŠå¤©æƒ…ç»ªè¡¨è¾¾
3. âš ï¸ è¯¦ç»†å»ºè®®å¯¹æ¯”

### ä½ä¼˜å…ˆçº§
1. ğŸ“ èŠå¤©å†å²è®°å½•
2. ğŸ“ èŠå¤©ç»Ÿè®¡åˆ†æ
3. ğŸ“ è‡ªå®šä¹‰èŠå¤©å†…å®¹

---

## ğŸ’¡ æ€»ç»“

è¿™ä¸‰ä¸ªæ”¹åŠ¨éƒ½éå¸¸é‡è¦ï¼š

1. **å›¢é˜Ÿè®¡åˆ†** - å¼ºåŒ–å›¢é˜Ÿæ„è¯†ï¼Œç®€åŒ–è®¡åˆ†é€»è¾‘
2. **AIå»ºè®®å¢å¼º** - å¸®åŠ©ç©å®¶ç†è§£ç­–ç•¥ï¼Œæå‡æ¸¸æˆä½“éªŒ
3. **èŠå¤©ç³»ç»Ÿé‡æ„** - å¢åŠ æ¸¸æˆè¶£å‘³æ€§å’ŒçœŸå®æ„Ÿ

å®ƒä»¬å…±åŒæ„æˆäº†ä¸€ä¸ª**å®Œæ•´çš„åˆä½œæ¨¡å¼ä½“éªŒ**ï¼

