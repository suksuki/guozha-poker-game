# MCTS微调时间估算

## 时间估算基准

基于实际测试结果：

| 配置 | 迭代次数 | 模拟深度 | 每局耗时 | 说明 |
|------|---------|---------|---------|------|
| 快速测试 | 100 | 20 | ~4-5秒 | 快速验证 |
| 标准测试 | 500 | 50 | ~25-30秒 | 平衡速度和准确性 |
| 精确测试 | 1000 | 100 | ~50-60秒 | 高准确性 |
| 完整测试 | 2000 | 200 | ~100-120秒 | 最高准确性 |

## 完整微调时间估算

### 示例配置1：快速微调（推荐开始）

```typescript
{
  explorationConstants: [1.0, 1.414, 2.0],  // 3个
  iterations: [500],                       // 1个
  simulationDepths: [50],                   // 1个
  gamesPerConfig: 20                       // 每配置20局
}
```

- **总配置数**: 3 × 1 × 1 = 3个
- **总对局数**: 3 × 20 = 60局
- **预计时间**: 60 × 25秒 = 1500秒 ≈ **25分钟**

### 示例配置2：中等规模微调

```typescript
{
  explorationConstants: [1.0, 1.414, 2.0],  // 3个
  iterations: [500, 1000],                 // 2个
  simulationDepths: [50, 100],              // 2个
  gamesPerConfig: 50                       // 每配置50局
}
```

- **总配置数**: 3 × 2 × 2 = 12个
- **总对局数**: 12 × 50 = 600局
- **预计时间**: 600 × 30秒 = 18000秒 ≈ **5小时**

### 示例配置3：完整微调（最准确）

```typescript
{
  explorationConstants: [0.5, 1.0, 1.414, 2.0, 3.0],  // 5个
  iterations: [500, 1000, 2000],                      // 3个
  simulationDepths: [50, 100, 200],                    // 3个
  gamesPerConfig: 100                                 // 每配置100局
}
```

- **总配置数**: 5 × 3 × 3 = 45个
- **总对局数**: 45 × 100 = 4500局
- **预计时间**: 4500 × 50秒 = 225000秒 ≈ **62.5小时** (约2.6天)

## 推荐策略

### 阶段1：快速探索（30分钟）

```typescript
{
  explorationConstants: [0.5, 1.0, 1.414, 2.0, 3.0],  // 5个
  iterations: [500],                                   // 固定
  simulationDepths: [50],                              // 固定
  gamesPerConfig: 20                                  // 少量对局
}
```

- **时间**: 5 × 20 × 25秒 ≈ **42分钟**
- **目的**: 快速找到最佳探索常数范围

### 阶段2：精确测试（2-3小时）

基于阶段1的结果，固定最佳探索常数，测试其他参数：

```typescript
{
  explorationConstants: [最佳值],           // 从阶段1获得
  iterations: [500, 1000, 2000],            // 3个
  simulationDepths: [50, 100, 200],         // 3个
  gamesPerConfig: 50                     // 中等对局数
}
```

- **时间**: 1 × 3 × 3 × 50 × 30秒 ≈ **2.25小时**
- **目的**: 找到最佳迭代次数和模拟深度

### 阶段3：最终验证（1小时）

使用阶段2的最佳参数，运行更多对局验证：

```typescript
{
  explorationConstants: [最佳值],
  iterations: [最佳值],
  simulationDepths: [最佳值],
  gamesPerConfig: 200                      // 大量对局验证
}
```

- **时间**: 1 × 200 × 50秒 ≈ **2.8小时**
- **目的**: 最终验证最佳配置的稳定性

## 时间优化建议

1. **减少迭代次数**: 从1000降到500，速度提升约2倍
2. **减少模拟深度**: 从100降到50，速度提升约2倍
3. **减少对局数**: 从100降到50，时间减半（但准确性降低）
4. **分阶段测试**: 先测试一个参数，再测试其他参数
5. **并行测试**: 如果有多个CPU核心，可以同时运行多个配置（需要额外实现）

## 实际测试结果

从最近的测试：
- **10局游戏，迭代500，深度50**: 259秒（约4.3分钟）
- **平均每局**: 25.9秒
- **预计100局**: 约43分钟

## 进度条功能

微调工具现在包含：
- ✅ **实时进度条**: 显示当前进度百分比
- ✅ **时间估算**: 显示已用时间和预计剩余时间
- ✅ **配置信息**: 显示当前测试的配置
- ✅ **完成统计**: 显示总耗时和平均每局时间

进度条会在控制台中实时更新，让你知道：
- 当前进度百分比
- 已用时间
- 预计剩余时间
- 当前测试的配置信息

