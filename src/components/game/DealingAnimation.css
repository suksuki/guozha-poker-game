.dealing-animation-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  overflow: hidden;
}

.dealing-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
}

.dealing-deck {
  width: 120px;
  height: 160px;
  background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  animation: deck-pulse 2s ease-in-out infinite;
  transition: all 0.3s ease;
}

.dealing-deck.clickable-deck {
  cursor: pointer;
  animation: deck-pulse-clickable 1.5s ease-in-out infinite;
}

.dealing-deck.clickable-deck:hover {
  transform: scale(1.1);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
}

@keyframes deck-pulse-clickable {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 12px 35px rgba(255, 215, 0, 0.5);
  }
}

.manual-deal-hint {
  color: white;
  font-size: 12px;
  font-weight: bold;
  margin-top: 8px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  animation: hint-pulse 2s ease-in-out infinite;
}

@keyframes hint-pulse {
  0%, 100% {
    opacity: 0.7;
  }
  50% {
    opacity: 1;
  }
}

@keyframes deck-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

.deck-count {
  color: white;
  font-size: 24px;
  font-weight: bold;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.player-dealing-area {
  position: absolute;
  min-width: 150px;
  padding: 15px;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  text-align: center;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.player-dealing-area.human-player {
  background: rgba(255, 255, 200, 0.95);
  border: 2px solid #ffd700;
  box-shadow: 0 4px 20px rgba(255, 215, 0, 0.4);
}

.player-dealing-area.ai-player {
  background: rgba(240, 240, 255, 0.95);
}

.player-dealing-area:hover {
  transform: translate(-50%, -50%) scale(1.05);
  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.3);
}

.player-name {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 8px;
  color: #333;
}

.player-card-count {
  font-size: 14px;
  color: #666;
  margin-bottom: 10px;
}

.player-cards-preview {
  display: flex;
  gap: 2px;
  justify-content: center;
  flex-wrap: wrap;
  max-width: 200px;
}

/* AI玩家卡通头像容器 */
.ai-player-avatar-container {
  position: absolute;
  display: flex;
  align-items: center;
  gap: 12px;
  z-index: 150; /* 提高z-index，确保在顶部且不被遮挡 */
  transition: transform 0.3s ease;
}

/* 人类玩家容器在侧边栏中时减小间距 */
.player-info-sidebar .human-player-avatar-container {
  gap: 8px;
}

/* 人类玩家容器需要为左侧提示提供定位上下文 */
.human-player-avatar-container {
  position: relative !important;
  padding-left: 0 !important; /* 移除左侧空白，因为"你的回合"已移到信息面板下面 */
}

/* 在非绝对定位容器中的人类玩家容器 */
.human-player-controls-container .human-player-avatar-container {
  position: relative;
  left: auto;
  top: auto;
  transform: none;
}

/* 发牌时AI玩家在顶部，padding已在AIPlayerAvatar组件中通过calc添加 */

/* 打牌时的AI玩家头像容器（非绝对定位） */
.ai-players-avatar-area .ai-player-avatar-container {
  position: relative;
  left: auto;
  top: auto;
  transform: none;
}

.ai-player-avatar-container:hover {
  transform: translate(-50%, -50%) scale(1.1);
}

.ai-players-avatar-area .ai-player-avatar-container:hover {
  transform: scale(1.1);
}

/* 人类玩家容器悬停时保持静止 */
.human-player-avatar-container:hover {
  transform: none;
}

/* 当前玩家高亮 */
.ai-player-avatar-container.current-player {
  border: 2px solid #FFD700;
  box-shadow: 0 0 10px rgba(255, 215, 0, 0.6);
  border-radius: 10px;
  padding: 2px;
}

.ai-player-avatar-container.last-play-player {
  border: 2px solid #4CAF50;
  box-shadow: 0 0 8px rgba(76, 175, 80, 0.5);
  border-radius: 10px;
  padding: 2px;
}

/* 状态信息面板 - 卡通风格 */
.ai-player-status-panel {
  background: none !important;
  border-radius: 0 !important;
  padding: 0 !important;
  box-shadow: none !important;
  border: none !important;
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: auto;
  backdrop-filter: none !important;
  align-items: flex-start;
}

.status-item {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  font-size: 14px;
  white-space: nowrap;
  gap: 4px;
  background: none !important;
  padding: 0 !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}

.status-item-compact {
  justify-content: center;
}

.status-label {
  color: rgba(255, 255, 255, 0.7);
  font-weight: 500;
  font-size: 13px;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
  margin-right: 6px;
}

.status-value {
  color: rgba(255, 255, 255, 0.95);
  font-weight: 600;
  font-size: 14px;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
  background: none !important;
  padding: 0 !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}

/* 人类玩家状态值 - 简洁样式，无背景无边框 */
.human-player-status-panel .status-value {
  background: none;
  padding: 0;
  border: none;
  border-radius: 0;
  box-shadow: none;
}

.human-player-status-panel .status-item {
  background: none;
  padding: 0;
  border: none;
  border-radius: 0;
  box-shadow: none;
}

.status-value.rank-badge {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 1px 5px;
  border-radius: 5px;
  font-size: 10px;
  display: inline-flex;
  align-items: center;
  gap: 2px;
}

/* 第一名金色奖杯 */
.status-value.rank-badge.rank-1 {
  background: linear-gradient(45deg, #FFD700 0%, #FFA500 100%);
  color: #333;
  box-shadow: 0 2px 8px rgba(255, 215, 0, 0.5);
}

/* 第二名银色奖杯 */
.status-value.rank-badge.rank-2 {
  background: linear-gradient(45deg, #C0C0C0 0%, #808080 100%);
  color: #333;
  box-shadow: 0 2px 8px rgba(192, 192, 192, 0.5);
}

/* 最后一名灰色奖杯 */
.status-value.rank-badge.last-place,
.player-rank-badge.last-place {
  background: linear-gradient(45deg, #808080 0%, #505050 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(128, 128, 128, 0.5);
}

.trophy-icon {
  font-size: 12px;
  display: inline-block;
}

/* 奖杯图标颜色控制 */
.trophy-icon.trophy-gold {
  filter: drop-shadow(0 0 2px rgba(255, 215, 0, 0.8));
}

.trophy-icon.trophy-silver {
  filter: drop-shadow(0 0 2px rgba(192, 192, 192, 0.8));
}

.trophy-icon.trophy-gray {
  filter: grayscale(0.8) brightness(0.7);
  opacity: 0.8;
}

.rank-item {
  margin-top: 3px;
}

/* PlayerInfo 和 AIPlayerCard 的名次徽章样式 */
.player-rank-badge {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 4px 10px;
  border-radius: 8px;
  font-size: 13px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-weight: bold;
  margin-left: 8px;
}

.player-rank-badge.rank-1 {
  background: linear-gradient(45deg, #FFD700 0%, #FFA500 100%);
  color: #333;
  box-shadow: 0 2px 8px rgba(255, 215, 0, 0.5);
}

.player-rank-badge.rank-2 {
  background: linear-gradient(45deg, #C0C0C0 0%, #808080 100%);
  color: #333;
  box-shadow: 0 2px 8px rgba(192, 192, 192, 0.5);
}

.player-rank-badge.last-place {
  background: linear-gradient(45deg, #808080 0%, #505050 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(128, 128, 128, 0.5);
}

/* 卡通大头像 */
.ai-player-avatar {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  position: relative; /* 为绝对定位的名次信息提供定位上下文 */
}

/* 名次徽章 - 绝对定位在头像上方 */
.avatar-rank-badge {
  position: absolute;
  top: -35px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 20;
  pointer-events: none; /* 不阻挡点击 */
}

.avatar-rank-badge .rank-badge {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 12px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-weight: bold;
  white-space: nowrap;
  box-shadow: 
    0 3px 8px rgba(0, 0, 0, 0.3),
    0 0 0 2px rgba(255, 255, 255, 0.3);
  border: 2px solid rgba(255, 255, 255, 0.4);
}

.avatar-rank-badge .rank-badge.rank-1 {
  background: linear-gradient(45deg, #FFD700 0%, #FFA500 100%);
  color: #333;
  box-shadow: 0 2px 8px rgba(255, 215, 0, 0.5);
}

.avatar-rank-badge .rank-badge.rank-2 {
  background: linear-gradient(45deg, #C0C0C0 0%, #808080 100%);
  color: #333;
  box-shadow: 0 2px 8px rgba(192, 192, 192, 0.5);
}

.avatar-rank-badge .rank-badge.last-place {
  background: linear-gradient(45deg, #808080 0%, #505050 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(128, 128, 128, 0.5);
}

.avatar-rank-badge .trophy-icon {
  font-size: 12px;
  display: inline-block;
}

.avatar-rank-badge .trophy-icon.trophy-gold {
  filter: drop-shadow(0 0 2px rgba(255, 215, 0, 0.8));
}

.avatar-rank-badge .trophy-icon.trophy-silver {
  filter: drop-shadow(0 0 2px rgba(192, 192, 192, 0.8));
}

.avatar-rank-badge .trophy-icon.trophy-gray {
  filter: grayscale(0.8) brightness(0.7);
  opacity: 0.8;
}

.avatar-emoji {
  font-size: 100px;
  width: 120px;
  height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 50%;
  box-shadow: 
    0 8px 20px rgba(0, 0, 0, 0.3),
    0 0 0 4px rgba(255, 255, 255, 0.4),
    inset 0 2px 8px rgba(255, 255, 255, 0.3);
  border: 4px solid rgba(255, 255, 255, 0.9);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  animation: avatar-pulse 2s ease-in-out infinite;
  /* Emoji字体支持 */
  font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 
               'Noto Color Emoji', 'EmojiOne Color', 'Twemoji Mozilla',
               'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla',
               'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Emoji',
               'Apple Color Emoji', 'Android Emoji', 'EmojiSymbols',
               'EmojiOne', 'Twemoji', 'Noto Color Emoji', sans-serif !important;
  font-feature-settings: 'liga', 'kern' !important;
  text-rendering: optimizeLegibility !important;
  line-height: 1 !important;
}

/* 人类玩家头像悬停时保持静止 */
.human-player-avatar-container .avatar-emoji:hover {
  transform: none;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* 人类玩家头像和名称悬停时保持静止 */
.human-player-avatar-container .avatar-name:hover,
.human-player-avatar-container .avatar-thinking:hover {
  transform: none;
}

/* AI玩家头像悬停效果保留 */
.ai-player-avatar-container:not(.human-player-avatar-container) .avatar-emoji:hover {
  transform: scale(1.1);
  box-shadow: 0 12px 30px rgba(102, 126, 234, 0.5);
}

@keyframes avatar-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

.avatar-name {
  font-size: 16px;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.95);
  text-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
  background: none;
  padding: 0;
  border-radius: 0;
  white-space: nowrap;
  box-shadow: none;
  border: none;
}

/* 思考中提示 - 放在头像下面（AI玩家） */
.avatar-thinking {
  font-size: 13px;
  font-weight: 600;
  color: #FFD700;
  text-shadow: 0 2px 6px rgba(255, 215, 0, 0.8);
  background: none;
  padding: 0;
  border-radius: 0;
  white-space: nowrap;
  margin-top: 4px;
  min-height: 20px; /* 固定最小高度，避免布局跳动 */
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  transition: opacity 0.2s ease, visibility 0.2s ease;
  animation: pulse 1.5s ease-in-out infinite;
  box-shadow: none;
  border: none;
}

/* 人类玩家的回合提示 - 放在头像左边 */
.human-player-turn-indicator {
  position: absolute;
  left: -70px;
  top: 50%;
  transform: translateY(-50%);
  margin-top: 0;
  margin-left: 0;
  z-index: 10;
}

.avatar-thinking.hidden {
  opacity: 0;
  visibility: hidden;
  animation: none;
}

.avatar-thinking.visible {
  opacity: 1;
  visibility: visible;
}

/* 当前玩家指示器 - 始终占据固定空间，避免布局跳动 */
.status-item.current-indicator {
  margin-top: 5px;
  padding-top: 5px;
  border-top: 1px solid rgba(255, 215, 0, 0.3);
  min-height: 18px; /* 固定最小高度，确保始终占据空间 */
  box-sizing: border-box;
  transition: opacity 0.2s ease;
}

.status-item.current-indicator.hidden {
  opacity: 0;
  border-top-color: transparent; /* 隐藏边框但保持空间 */
}

.status-item.current-indicator.visible {
  opacity: 1;
}

.status-item.current-indicator .status-value {
  color: #FFD700;
  font-weight: bold;
  animation: pulse 1.5s ease-in-out infinite;
}

.status-item.current-indicator.hidden .status-value {
  animation: none;
  visibility: hidden; /* 隐藏内容但保持元素占据空间 */
}

.flying-card {
  position: fixed;
  z-index: 100;
  pointer-events: none;
  animation: fly-to-player 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  transform-origin: center;
}

@keyframes fly-to-player {
  0% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    opacity: 1;
  }
  50% {
    transform: translate(
      calc((var(--to-x) - var(--from-x)) * 0.5px),
      calc((var(--to-y) - var(--from-y)) * 0.5px)
    ) scale(1.2) rotate(180deg);
    opacity: 0.8;
  }
  100% {
    transform: translate(
      calc(var(--to-x) - var(--from-x)),
      calc(var(--to-y) - var(--from-y))
    ) scale(1) rotate(360deg);
    opacity: 0;
  }
}

.last-dealt-card-highlight {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 200;
  animation: highlight-pulse 0.3s ease-out;
  pointer-events: none;
}

@keyframes highlight-pulse {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.5);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0;
  }
}

.dealing-progress {
  position: absolute;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  width: 400px;
  z-index: 20;
}

.progress-text {
  text-align: center;
  color: white;
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 10px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.progress-bar {
  width: 100%;
  height: 8px;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 4px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
  border-radius: 4px;
  transition: width 0.15s ease;
  box-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
}

.dealing-cancel-btn {
  padding: 10px 20px;
  background: rgba(255, 87, 34, 0.95);
  border: 2px solid rgba(255, 87, 34, 0.8);
  border-radius: 8px;
  color: white;
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 2000;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  white-space: nowrap;
}

.dealing-cancel-btn:hover {
  background: rgba(255, 87, 34, 1);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 87, 34, 0.4);
}

.dealing-cancel-btn:active {
  transform: translateY(0);
}

.dealing-controls {
  position: fixed;
  top: 20px;
  right: 20px;
  display: flex;
  gap: 10px;
  z-index: 2000; /* 提高 z-index，确保在人类玩家手牌区域之上 */
  flex-direction: column;
  align-items: flex-end;
}

.dealing-mode-btn {
  padding: 12px 24px;
  background: rgba(255, 215, 0, 0.95);
  border: 2px solid #ffd700;
  border-radius: 8px;
  color: #333;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 2000; /* 提高 z-index */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); /* 添加阴影，更明显 */
}

.dealing-mode-btn:hover {
  background: rgba(102, 126, 234, 1);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.dealing-mode-btn:active {
  transform: scale(0.95);
}

.dealing-draw-btn {
  padding: 12px 24px;
  background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
  border: 2px solid #4CAF50;
  border-radius: 8px;
  color: white;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 2000;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  min-width: 150px;
  text-align: center;
}

.dealing-draw-btn:hover:not(:disabled) {
  background: linear-gradient(135deg, #45a049 0%, #4CAF50 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
}

.dealing-draw-btn:active:not(:disabled) {
  transform: scale(0.95);
}

.dealing-draw-btn:disabled {
  background: rgba(128, 128, 128, 0.5);
  border-color: rgba(128, 128, 128, 0.5);
  color: rgba(255, 255, 255, 0.5);
  cursor: not-allowed;
  opacity: 0.6;
}

/* 人类玩家手牌区域 */
.human-player-hand-area {
  /* 移除白色背景面板 */
  background: transparent;
  border-radius: 0;
  padding: 20px;
  box-shadow: none;
  backdrop-filter: none;
  border: none;
  transition: all 0.3s ease;
  z-index: 1000; /* 确保在手牌内容之上，但低于控制按钮 */
  display: flex;
  flex-direction: column;
  max-height: 80vh; /* 限制最大高度 */
}

.human-player-hand-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 2px solid rgba(102, 126, 234, 0.2);
}

.human-player-hand-header .player-name {
  font-size: 24px;
  font-weight: bold;
  color: #333;
}

.human-player-hand-header .player-card-count {
  font-size: 18px;
  color: rgba(255, 255, 255, 0.9);
  font-weight: bold;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.human-player-hand-content {
  flex: 1;
  overflow-x: auto;
  overflow-y: hidden;
  padding: 10px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start; /* 内容靠左对齐，一行排列 */
  align-items: center; /* 垂直居中对齐 */
  min-height: 200px;
  width: 100%;
}

.human-player-hand-content::-webkit-scrollbar {
  width: 8px;
}

.human-player-hand-content::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 4px;
}

.human-player-hand-content::-webkit-scrollbar-thumb {
  background: rgba(102, 126, 234, 0.5);
  border-radius: 4px;
}

.human-player-hand-content::-webkit-scrollbar-thumb:hover {
  background: rgba(102, 126, 234, 0.7);
}

/* 理牌动画 - 卡牌过渡效果 */
.player-hand-grouped .card-group {
  transition: all 0.3s ease;
}

.player-hand-grouped .card-group-content {
  transition: all 0.3s ease;
}

.player-hand-grouped .card-group-content > div {
  transition: transform 0.3s ease, opacity 0.3s ease;
}

