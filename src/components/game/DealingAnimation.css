.dealing-animation-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  overflow: hidden;
}

.dealing-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
}

.dealing-deck {
  width: 120px;
  height: 160px;
  background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  animation: deck-pulse 2s ease-in-out infinite;
  transition: all 0.3s ease;
}

.dealing-deck.clickable-deck {
  cursor: pointer;
  animation: deck-pulse-clickable 1.5s ease-in-out infinite;
}

.dealing-deck.clickable-deck:hover {
  transform: scale(1.1);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
}

@keyframes deck-pulse-clickable {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 12px 35px rgba(255, 215, 0, 0.5);
  }
}

.manual-deal-hint {
  color: white;
  font-size: 12px;
  font-weight: bold;
  margin-top: 8px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  animation: hint-pulse 2s ease-in-out infinite;
}

@keyframes hint-pulse {
  0%, 100% {
    opacity: 0.7;
  }
  50% {
    opacity: 1;
  }
}

@keyframes deck-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

.deck-count {
  color: white;
  font-size: 24px;
  font-weight: bold;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.player-dealing-area {
  position: absolute;
  min-width: 150px;
  padding: 15px;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  text-align: center;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.player-dealing-area.human-player {
  background: rgba(255, 255, 200, 0.95);
  border: 2px solid #ffd700;
  box-shadow: 0 4px 20px rgba(255, 215, 0, 0.4);
}

.player-dealing-area.ai-player {
  background: rgba(240, 240, 255, 0.95);
}

.player-dealing-area:hover {
  transform: translate(-50%, -50%) scale(1.05);
  box-shadow: 0 6px 25px rgba(0, 0, 0, 0.3);
}

.player-name {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 8px;
  color: #333;
}

.player-card-count {
  font-size: 14px;
  color: #666;
  margin-bottom: 10px;
}

.player-cards-preview {
  display: flex;
  gap: 2px;
  justify-content: center;
  flex-wrap: wrap;
  max-width: 200px;
}

/* AI玩家卡通头像容器 */
.ai-player-avatar-container {
  position: absolute;
  display: flex;
  align-items: center;
  gap: 15px;
  z-index: 150; /* 提高z-index，确保在顶部且不被遮挡 */
  transition: transform 0.3s ease;
}

/* 发牌时AI玩家在顶部，padding已在AIPlayerAvatar组件中通过calc添加 */

/* 打牌时的AI玩家头像容器（非绝对定位） */
.ai-players-avatar-area .ai-player-avatar-container {
  position: relative;
  left: auto;
  top: auto;
  transform: none;
}

.ai-player-avatar-container:hover {
  transform: translate(-50%, -50%) scale(1.1);
}

.ai-players-avatar-area .ai-player-avatar-container:hover {
  transform: scale(1.1);
}

/* 当前玩家高亮 */
.ai-player-avatar-container.current-player {
  border: 3px solid #FFD700;
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
  border-radius: 20px;
  padding: 5px;
}

.ai-player-avatar-container.last-play-player {
  border: 3px solid #4CAF50;
  box-shadow: 0 0 15px rgba(76, 175, 80, 0.5);
  border-radius: 20px;
  padding: 5px;
}

/* 状态信息面板 */
.ai-player-status-panel {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 12px;
  padding: 12px 16px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  border: 2px solid rgba(102, 126, 234, 0.3);
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-width: 120px;
  backdrop-filter: blur(10px);
}

.status-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 14px;
}

.status-label {
  color: #666;
  font-weight: 500;
}

.status-value {
  color: #333;
  font-weight: bold;
  font-size: 15px;
}

.status-value.rank-badge {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 2px 8px;
  border-radius: 8px;
  font-size: 13px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

/* 第一名金色奖杯 */
.status-value.rank-badge.rank-1 {
  background: linear-gradient(45deg, #FFD700 0%, #FFA500 100%);
  color: #333;
  box-shadow: 0 2px 8px rgba(255, 215, 0, 0.5);
}

/* 第二名银色奖杯 */
.status-value.rank-badge.rank-2 {
  background: linear-gradient(45deg, #C0C0C0 0%, #808080 100%);
  color: #333;
  box-shadow: 0 2px 8px rgba(192, 192, 192, 0.5);
}

/* 最后一名灰色奖杯 */
.status-value.rank-badge.last-place,
.player-rank-badge.last-place {
  background: linear-gradient(45deg, #808080 0%, #505050 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(128, 128, 128, 0.5);
}

.trophy-icon {
  font-size: 14px;
  display: inline-block;
}

/* 奖杯图标颜色控制 */
.trophy-icon.trophy-gold {
  filter: drop-shadow(0 0 2px rgba(255, 215, 0, 0.8));
}

.trophy-icon.trophy-silver {
  filter: drop-shadow(0 0 2px rgba(192, 192, 192, 0.8));
}

.trophy-icon.trophy-gray {
  filter: grayscale(0.8) brightness(0.7);
  opacity: 0.8;
}

.rank-item {
  margin-top: 3px;
}

/* PlayerInfo 和 AIPlayerCard 的名次徽章样式 */
.player-rank-badge {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 4px 10px;
  border-radius: 8px;
  font-size: 13px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-weight: bold;
  margin-left: 8px;
}

.player-rank-badge.rank-1 {
  background: linear-gradient(45deg, #FFD700 0%, #FFA500 100%);
  color: #333;
  box-shadow: 0 2px 8px rgba(255, 215, 0, 0.5);
}

.player-rank-badge.rank-2 {
  background: linear-gradient(45deg, #C0C0C0 0%, #808080 100%);
  color: #333;
  box-shadow: 0 2px 8px rgba(192, 192, 192, 0.5);
}

.player-rank-badge.last-place {
  background: linear-gradient(45deg, #808080 0%, #505050 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(128, 128, 128, 0.5);
}

/* 卡通大头像 */
.ai-player-avatar {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.avatar-emoji {
  font-size: 80px;
  width: 100px;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 50%;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
  border: 4px solid rgba(255, 255, 255, 0.8);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  animation: avatar-pulse 2s ease-in-out infinite;
  /* Emoji字体支持 */
  font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 
               'Noto Color Emoji', 'EmojiOne Color', 'Twemoji Mozilla',
               'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla',
               'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Emoji',
               'Apple Color Emoji', 'Android Emoji', 'EmojiSymbols',
               'EmojiOne', 'Twemoji', 'Noto Color Emoji', sans-serif !important;
  font-feature-settings: 'liga', 'kern' !important;
  text-rendering: optimizeLegibility !important;
  line-height: 1 !important;
}

.avatar-emoji:hover {
  transform: scale(1.1);
  box-shadow: 0 12px 30px rgba(102, 126, 234, 0.5);
}

@keyframes avatar-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

.avatar-name {
  font-size: 16px;
  font-weight: bold;
  color: white;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  background: rgba(0, 0, 0, 0.3);
  padding: 4px 12px;
  border-radius: 12px;
  white-space: nowrap;
}

/* 当前玩家指示器 */
.status-item.current-indicator {
  margin-top: 5px;
  padding-top: 5px;
  border-top: 1px solid rgba(255, 215, 0, 0.3);
}

.status-item.current-indicator .status-value {
  color: #FFD700;
  font-weight: bold;
  animation: pulse 1.5s ease-in-out infinite;
}

.flying-card {
  position: fixed;
  z-index: 100;
  pointer-events: none;
  animation: fly-to-player 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  transform-origin: center;
}

@keyframes fly-to-player {
  0% {
    transform: translate(0, 0) scale(1) rotate(0deg);
    opacity: 1;
  }
  50% {
    transform: translate(
      calc((var(--to-x) - var(--from-x)) * 0.5px),
      calc((var(--to-y) - var(--from-y)) * 0.5px)
    ) scale(1.2) rotate(180deg);
    opacity: 0.8;
  }
  100% {
    transform: translate(
      calc(var(--to-x) - var(--from-x)),
      calc(var(--to-y) - var(--from-y))
    ) scale(1) rotate(360deg);
    opacity: 0;
  }
}

.last-dealt-card-highlight {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 200;
  animation: highlight-pulse 0.3s ease-out;
  pointer-events: none;
}

@keyframes highlight-pulse {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 0;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.5);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0;
  }
}

.dealing-progress {
  position: absolute;
  bottom: 40px;
  left: 50%;
  transform: translateX(-50%);
  width: 400px;
  z-index: 20;
}

.progress-text {
  text-align: center;
  color: white;
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 10px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.progress-bar {
  width: 100%;
  height: 8px;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 4px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
  border-radius: 4px;
  transition: width 0.15s ease;
  box-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
}

.dealing-cancel-btn {
  padding: 10px 20px;
  background: rgba(255, 87, 34, 0.95);
  border: 2px solid rgba(255, 87, 34, 0.8);
  border-radius: 8px;
  color: white;
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 2000;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  white-space: nowrap;
}

.dealing-cancel-btn:hover {
  background: rgba(255, 87, 34, 1);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 87, 34, 0.4);
}

.dealing-cancel-btn:active {
  transform: translateY(0);
}

.dealing-controls {
  position: fixed;
  top: 20px;
  right: 20px;
  display: flex;
  gap: 10px;
  z-index: 2000; /* 提高 z-index，确保在人类玩家手牌区域之上 */
  flex-direction: column;
  align-items: flex-end;
}

.dealing-mode-btn {
  padding: 12px 24px;
  background: rgba(255, 215, 0, 0.95);
  border: 2px solid #ffd700;
  border-radius: 8px;
  color: #333;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 2000; /* 提高 z-index */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); /* 添加阴影，更明显 */
}

.dealing-mode-btn:hover {
  background: rgba(102, 126, 234, 1);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

.dealing-mode-btn:active {
  transform: scale(0.95);
}

.dealing-draw-btn {
  padding: 12px 24px;
  background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
  border: 2px solid #4CAF50;
  border-radius: 8px;
  color: white;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  z-index: 2000;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  min-width: 150px;
  text-align: center;
}

.dealing-draw-btn:hover:not(:disabled) {
  background: linear-gradient(135deg, #45a049 0%, #4CAF50 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
}

.dealing-draw-btn:active:not(:disabled) {
  transform: scale(0.95);
}

.dealing-draw-btn:disabled {
  background: rgba(128, 128, 128, 0.5);
  border-color: rgba(128, 128, 128, 0.5);
  color: rgba(255, 255, 255, 0.5);
  cursor: not-allowed;
  opacity: 0.6;
}

/* 人类玩家手牌区域 */
.human-player-hand-area {
  /* 移除白色背景面板 */
  background: transparent;
  border-radius: 0;
  padding: 20px;
  box-shadow: none;
  backdrop-filter: none;
  border: none;
  transition: all 0.3s ease;
  z-index: 1000; /* 确保在手牌内容之上，但低于控制按钮 */
  display: flex;
  flex-direction: column;
  max-height: 80vh; /* 限制最大高度 */
}

.human-player-hand-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 2px solid rgba(102, 126, 234, 0.2);
}

.human-player-hand-header .player-name {
  font-size: 24px;
  font-weight: bold;
  color: #333;
}

.human-player-hand-header .player-card-count {
  font-size: 18px;
  color: rgba(255, 255, 255, 0.9);
  font-weight: bold;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.human-player-hand-content {
  flex: 1;
  overflow-x: auto;
  overflow-y: hidden;
  padding: 10px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start; /* 内容靠左对齐，一行排列 */
  align-items: center; /* 垂直居中对齐 */
  min-height: 200px;
  width: 100%;
}

.human-player-hand-content::-webkit-scrollbar {
  width: 8px;
}

.human-player-hand-content::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 4px;
}

.human-player-hand-content::-webkit-scrollbar-thumb {
  background: rgba(102, 126, 234, 0.5);
  border-radius: 4px;
}

.human-player-hand-content::-webkit-scrollbar-thumb:hover {
  background: rgba(102, 126, 234, 0.7);
}

/* 理牌动画 - 卡牌过渡效果 */
.player-hand-grouped .card-group {
  transition: all 0.3s ease;
}

.player-hand-grouped .card-group-content {
  transition: all 0.3s ease;
}

.player-hand-grouped .card-group-content > div {
  transition: transform 0.3s ease, opacity 0.3s ease;
}

