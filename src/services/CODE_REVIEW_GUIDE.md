# ä»£ç å®¡æŸ¥ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

ä»£ç å®¡æŸ¥ç³»ç»Ÿå¯ä»¥æ‰«æä»£ç åº“ï¼Œæ£€æµ‹ä»£ç è´¨é‡é—®é¢˜ï¼Œå¹¶æä¾›é‡æ„å»ºè®®ã€‚

## åŠŸèƒ½ç‰¹æ€§

### 1. ä»£ç è´¨é‡æ£€æµ‹

- **é‡å¤ä»£ç æ£€æµ‹**ï¼šè¯†åˆ«è·¨æ–‡ä»¶çš„é‡å¤ä»£ç æ¨¡å¼
- **æœªä½¿ç”¨å¯¼å…¥**ï¼šæ£€æµ‹æœªä½¿ç”¨çš„ import è¯­å¥
- **æ­»ä»£ç æ£€æµ‹**ï¼šè¯†åˆ«æ°¸è¿œä¸ä¼šæ‰§è¡Œçš„ä»£ç 
- **å¤æ‚åº¦åˆ†æ**ï¼šè®¡ç®—ä»£ç çš„åœˆå¤æ‚åº¦
- **æ–‡ä»¶é•¿åº¦æ£€æµ‹**ï¼šè¯†åˆ«è¿‡é•¿çš„æ–‡ä»¶
- **å‡½æ•°é•¿åº¦æ£€æµ‹**ï¼šè¯†åˆ«è¿‡é•¿çš„å‡½æ•°

### 2. ä»£ç æŒ‡æ ‡

- æ–‡ä»¶è¡Œæ•°
- å‡½æ•°æ•°é‡
- ç±»æ•°é‡
- å¯¼å…¥/å¯¼å‡ºæ•°é‡
- ä»£ç å¤æ‚åº¦

### 3. å¯è§†åŒ–å±•ç¤º

- ç»Ÿè®¡ä¿¡æ¯é¢æ¿
- é—®é¢˜åˆ—è¡¨ï¼ˆæŒ‰æ–‡ä»¶åˆ†ç»„ï¼‰
- é‡æ„å»ºè®®
- é—®é¢˜è¿‡æ»¤å’Œæœç´¢

## ä½¿ç”¨æ–¹æ³•

### 1. æ‰“å¼€ä»£ç å®¡æŸ¥ç®¡ç†å™¨

ç‚¹å‡»å³ä¸‹è§’çš„ **ğŸ”** æŒ‰é’®

### 2. æ‰«æä»£ç 

ç‚¹å‡» **ğŸ”„ æ‰«æä»£ç ** æŒ‰é’®ï¼Œç³»ç»Ÿä¼šï¼š
- æ‰«æ `src` ç›®å½•ä¸‹çš„æ‰€æœ‰ä»£ç æ–‡ä»¶
- åˆ†æä»£ç è´¨é‡
- ç”Ÿæˆé—®é¢˜æŠ¥å‘Š

### 3. æŸ¥çœ‹ç»“æœ

- **ç»Ÿè®¡ä¿¡æ¯**ï¼šæŸ¥çœ‹æ€»ä½“ä»£ç è´¨é‡æŒ‡æ ‡
- **é—®é¢˜åˆ—è¡¨**ï¼šæŸ¥çœ‹æ‰€æœ‰æ£€æµ‹åˆ°çš„é—®é¢˜
- **é‡æ„å»ºè®®**ï¼šæŸ¥çœ‹ç³»ç»Ÿæä¾›çš„ä¼˜åŒ–å»ºè®®

### 4. è¿‡æ»¤é—®é¢˜

ä½¿ç”¨è¿‡æ»¤å™¨å¯ä»¥ï¼š
- æŸ¥çœ‹æ‰€æœ‰é—®é¢˜
- åªçœ‹é”™è¯¯å’Œè­¦å‘Š
- æŒ‰é—®é¢˜ç±»å‹è¿‡æ»¤

## é—®é¢˜ç±»å‹

### é‡å¤ä»£ç  (duplicate)
- **ä¸¥é‡ç¨‹åº¦**ï¼šä¿¡æ¯
- **è¯´æ˜**ï¼šä¸¤ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶å­˜åœ¨ç›¸ä¼¼çš„ä»£ç ç»“æ„
- **å»ºè®®**ï¼šæå–å…¬å…±ä»£ç åˆ°å…±äº«æ¨¡å—

### æœªä½¿ç”¨å¯¼å…¥ (import)
- **ä¸¥é‡ç¨‹åº¦**ï¼šè­¦å‘Š
- **è¯´æ˜**ï¼šå¯¼å…¥äº†ä½†æœªä½¿ç”¨çš„æ¨¡å—
- **å»ºè®®**ï¼šåˆ é™¤æœªä½¿ç”¨çš„å¯¼å…¥

### é«˜å¤æ‚åº¦ (complex)
- **ä¸¥é‡ç¨‹åº¦**ï¼šè­¦å‘Š
- **è¯´æ˜**ï¼šä»£ç åœˆå¤æ‚åº¦è¶…è¿‡é˜ˆå€¼ï¼ˆ>20ï¼‰
- **å»ºè®®**ï¼šé‡æ„ä»£ç ï¼Œå‡å°‘åµŒå¥—å’Œæ§åˆ¶æµ

### è¿‡é•¿æ–‡ä»¶ (long)
- **ä¸¥é‡ç¨‹åº¦**ï¼šè­¦å‘Š/ä¿¡æ¯
- **è¯´æ˜**ï¼šæ–‡ä»¶æˆ–å‡½æ•°è¿‡é•¿
- **å»ºè®®**ï¼šå°†æ–‡ä»¶/å‡½æ•°æ‹†åˆ†ä¸ºå¤šä¸ªå°æ¨¡å—

## æ‰©å±•å¼€å‘

### æ·»åŠ è‡ªå®šä¹‰æ£€æµ‹è§„åˆ™

åœ¨ `codeReviewService.ts` ä¸­çš„ `detectIssues` æ–¹æ³•ä¸­æ·»åŠ æ–°çš„æ£€æµ‹é€»è¾‘ï¼š

```typescript
// æ£€æµ‹è‡ªå®šä¹‰é—®é¢˜
if (/* ä½ çš„æ£€æµ‹æ¡ä»¶ */) {
  issues.push({
    id: `${filePath}:custom-issue`,
    type: 'other',
    severity: 'warning',
    file: filePath,
    line: lineNumber,
    message: 'è‡ªå®šä¹‰é—®é¢˜æè¿°',
    suggestion: 'ä¿®å¤å»ºè®®',
  });
}
```

### é›†æˆ ESLint

å¯ä»¥é›†æˆ ESLint æ¥è·å¾—æ›´å‡†ç¡®çš„ä»£ç åˆ†æï¼š

```typescript
import { ESLint } from 'eslint';

const eslint = new ESLint();
const results = await eslint.lintFiles(['src/**/*.ts', 'src/**/*.tsx']);
// å°† ESLint ç»“æœè½¬æ¢ä¸º CodeIssue
```

### é›†æˆ TypeScript Compiler API

ä½¿ç”¨ TypeScript Compiler API è¿›è¡Œæ›´æ·±å…¥çš„ä»£ç åˆ†æï¼š

```typescript
import * as ts from 'typescript';

const sourceFile = ts.createSourceFile(
  filePath,
  content,
  ts.ScriptTarget.Latest
);
// ä½¿ç”¨ AST è¿›è¡Œä»£ç åˆ†æ
```

## æ€§èƒ½ä¼˜åŒ–

1. **å¢é‡æ‰«æ**ï¼šåªæ‰«æä¿®æ”¹è¿‡çš„æ–‡ä»¶
2. **å¹¶è¡Œå¤„ç†**ï¼šä½¿ç”¨ Web Workers è¿›è¡Œå¹¶è¡Œåˆ†æ
3. **ç¼“å­˜ç»“æœ**ï¼šç¼“å­˜åˆ†æç»“æœï¼Œé¿å…é‡å¤æ‰«æ
4. **æ‡’åŠ è½½**ï¼šæŒ‰éœ€åŠ è½½æ–‡ä»¶å†…å®¹

## æ³¨æ„äº‹é¡¹

- å½“å‰å®ç°æ˜¯åŸºç¡€ç‰ˆæœ¬ï¼ŒæŸäº›æ£€æµ‹å¯èƒ½ä¸å¤Ÿå‡†ç¡®
- å»ºè®®ç»“åˆ ESLint å’Œ TypeScript ç¼–è¯‘å™¨è·å¾—æ›´å‡†ç¡®çš„ç»“æœ
- å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå¯èƒ½éœ€è¦åç«¯æ”¯æŒæ¥å¤„ç†æ–‡ä»¶æ‰«æ

